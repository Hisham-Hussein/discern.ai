<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>News Sentiment and Stock Market Data Exploration | Discern</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="News Sentiment and Stock Market Data Exploration" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Performing Exploratory Data Analysis for the Saudi Stock Market" />
<meta property="og:description" content="Performing Exploratory Data Analysis for the Saudi Stock Market" />
<link rel="canonical" href="https://hisham-hussein.github.io/discern.ai/data-wrangling/eda/2020/01/28/arabic-stock-market-sentiment-analysis-1-EDA.html" />
<meta property="og:url" content="https://hisham-hussein.github.io/discern.ai/data-wrangling/eda/2020/01/28/arabic-stock-market-sentiment-analysis-1-EDA.html" />
<meta property="og:site_name" content="Discern" />
<meta property="og:image" content="https://hisham-hussein.github.io/discern.ai/images/arabic-stock-market-sentiment-analysis/featured_sectors_bar.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-01-28T00:00:00-06:00" />
<script type="application/ld+json">
{"headline":"News Sentiment and Stock Market Data Exploration","description":"Performing Exploratory Data Analysis for the Saudi Stock Market","datePublished":"2020-01-28T00:00:00-06:00","dateModified":"2020-01-28T00:00:00-06:00","image":"https://hisham-hussein.github.io/discern.ai/images/arabic-stock-market-sentiment-analysis/featured_sectors_bar.png","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hisham-hussein.github.io/discern.ai/data-wrangling/eda/2020/01/28/arabic-stock-market-sentiment-analysis-1-EDA.html"},"url":"https://hisham-hussein.github.io/discern.ai/data-wrangling/eda/2020/01/28/arabic-stock-market-sentiment-analysis-1-EDA.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/discern.ai/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://hisham-hussein.github.io/discern.ai/feed.xml" title="Discern" /><link rel="shortcut icon" type="image/x-icon" href="/discern.ai/images/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>News Sentiment and Stock Market Data Exploration | Discern</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="News Sentiment and Stock Market Data Exploration" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Performing Exploratory Data Analysis for the Saudi Stock Market" />
<meta property="og:description" content="Performing Exploratory Data Analysis for the Saudi Stock Market" />
<link rel="canonical" href="https://hisham-hussein.github.io/discern.ai/data-wrangling/eda/2020/01/28/arabic-stock-market-sentiment-analysis-1-EDA.html" />
<meta property="og:url" content="https://hisham-hussein.github.io/discern.ai/data-wrangling/eda/2020/01/28/arabic-stock-market-sentiment-analysis-1-EDA.html" />
<meta property="og:site_name" content="Discern" />
<meta property="og:image" content="https://hisham-hussein.github.io/discern.ai/images/arabic-stock-market-sentiment-analysis/featured_sectors_bar.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-01-28T00:00:00-06:00" />
<script type="application/ld+json">
{"headline":"News Sentiment and Stock Market Data Exploration","description":"Performing Exploratory Data Analysis for the Saudi Stock Market","datePublished":"2020-01-28T00:00:00-06:00","dateModified":"2020-01-28T00:00:00-06:00","image":"https://hisham-hussein.github.io/discern.ai/images/arabic-stock-market-sentiment-analysis/featured_sectors_bar.png","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hisham-hussein.github.io/discern.ai/data-wrangling/eda/2020/01/28/arabic-stock-market-sentiment-analysis-1-EDA.html"},"url":"https://hisham-hussein.github.io/discern.ai/data-wrangling/eda/2020/01/28/arabic-stock-market-sentiment-analysis-1-EDA.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://hisham-hussein.github.io/discern.ai/feed.xml" title="Discern" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/discern.ai/">Discern</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/discern.ai/about/">About Me</a><a class="page-link" href="/discern.ai/search/">Search</a><a class="page-link" href="/discern.ai/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">News Sentiment and Stock Market Data Exploration</h1><p class="page-description">Performing Exploratory Data Analysis for the Saudi Stock Market</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-01-28T00:00:00-06:00" itemprop="datePublished">
        Jan 28, 2020
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      35 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/discern.ai/categories/#data-wrangling">data-wrangling</a>
        &nbsp;
      
        <a class="category-tags-link" href="/discern.ai/categories/#EDA">EDA</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          <div class="px-2">

    <a href="https://github.com/Hisham-Hussein/discern.ai/tree/master/_notebooks/2020-01-28-arabic-stock-market-sentiment-analysis-1-EDA.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/discern.ai/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/Hisham-Hussein/discern.ai/master?filepath=_notebooks%2F2020-01-28-arabic-stock-market-sentiment-analysis-1-EDA.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/discern.ai/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/Hisham-Hussein/discern.ai/blob/master/_notebooks/2020-01-28-arabic-stock-market-sentiment-analysis-1-EDA.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/discern.ai/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#News-Sentiment-and-Stock-Market-Data-Exploration">News Sentiment and Stock Market Data Exploration </a>
<ul>
<li class="toc-entry toc-h2"><a href="#Data-Cleaning-and-Normalization">Data Cleaning and Normalization </a>
<ul>
<li class="toc-entry toc-h3"><a href="#Exploring-Nans">Exploring Nans </a></li>
<li class="toc-entry toc-h3"><a href="#Exploring-Duplicates">Exploring Duplicates </a></li>
<li class="toc-entry toc-h3"><a href="#Storing-the-Clean-Data-for-Later-Use">Storing the Clean Data for Later Use </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#Descriptive-Statistics">Descriptive Statistics </a>
<ul>
<li class="toc-entry toc-h4"><a href="#Numerical-Variables-Statistics">Numerical Variables Statistics </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#Exploratory-Data-Analysis">Exploratory Data Analysis </a>
<ul>
<li class="toc-entry toc-h3"><a href="#Exploring-Singe-Categorical-Variables">Exploring Singe Categorical Variables </a>
<ul>
<li class="toc-entry toc-h4"><a href="#The-Polarity">The Polarity </a></li>
<li class="toc-entry toc-h4"><a href="#Most-Featured-Sectors">Most Featured Sectors </a></li>
<li class="toc-entry toc-h4"><a href="#Most-Featured-Companies">Most Featured Companies </a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#Exploring-Interaction-Between-2-Categorical-Variables">Exploring Interaction Between 2 Categorical Variables </a>
<ul>
<li class="toc-entry toc-h4"><a href="#Polarity-&-Sector">Polarity &amp; Sector </a>
<ul>
<li class="toc-entry toc-h5"><a href="#Method-(1)-Grouped-Barplot">Method (1) Grouped Barplot </a></li>
<li class="toc-entry toc-h5"><a href="#Method-(2)-Heatmap">Method (2) Heatmap </a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#Polarity-&-Company">Polarity &amp; Company </a>
<ul>
<li class="toc-entry toc-h5"><a href="#Method-(1)-Groupded-Barplot">Method (1) Groupded Barplot </a></li>
<li class="toc-entry toc-h5"><a href="#Method-(2)-Heatmap">Method (2) Heatmap </a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#Exploring-Interaction-Between-3-Categorical-Variables">Exploring Interaction Between 3 Categorical Variables </a></li>
<li class="toc-entry toc-h3"><a href="#Exploring-Single-Numerical-Variables">Exploring Single Numerical Variables </a></li>
<li class="toc-entry toc-h3"><a href="#Qustion:-How-wast-the-variable-Changing%-computed?">Qustion: How wast the variable Changing% computed? </a></li>
<li class="toc-entry toc-h3"><a href="#Exploring-Relationship-Between-Numerical-Variables">Exploring Relationship Between Numerical Variables </a>
<ul>
<li class="toc-entry toc-h4"><a href="#Number-of-Deals-vs.-Changing">Number of Deals vs. Changing </a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#Exploring-Interaction-Between-Numerical-and-Categorical">Exploring Interaction Between Numerical and Categorical </a></li>
<li class="toc-entry toc-h3"><a href="#What's-Happening-over-Time?">What&#39;s Happening over Time? </a>
<ul>
<li class="toc-entry toc-h4"><a href="#Exploring-the-Date-Variable">Exploring the Date Variable </a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#The-Following-is-Additional-Extra-Work">The Following is Additional Extra Work </a>
<ul>
<li class="toc-entry toc-h4"><a href="#Moving-Avg.-of-Numerical-Variables">Moving Avg. of Numerical Variables </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#Market-Index">Market Index </a>
<ul>
<li class="toc-entry toc-h3"><a href="#How-to-Read-Facebook's-Fasttext-pretrained-Models-into-Gensim">How to Read Facebook&#39;s Fasttext pretrained Models into Gensim </a></li>
</ul>
</li>
</ul>
</li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-01-28-arabic-stock-market-sentiment-analysis-1-EDA.ipynb
-->

<div class="container" id="notebook-container">
        
    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="News-Sentiment-and-Stock-Market-Data-Exploration">
<a class="anchor" href="#News-Sentiment-and-Stock-Market-Data-Exploration" aria-hidden="true"><span class="octicon octicon-link"></span></a>News Sentiment and Stock Market Data Exploration<a class="anchor-link" href="#News-Sentiment-and-Stock-Market-Data-Exploration"> </a>
</h1>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="ch">#!pip install pandas-profiling[notebook,html]</span>
<span class="c1">#!pip install cufflinks</span>
<span class="c1">#!pip install chart_studio</span>
<span class="c1">#!pip install googletrans</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#plotly.offline doesn't push your charts to the clouds</span>
<span class="kn">import</span> <span class="nn">plotly.offline</span> <span class="k">as</span> <span class="nn">pyo</span>
<span class="c1">#allows us to create the Data and Figure objects</span>
<span class="kn">from</span> <span class="nn">plotly.graph_objs</span> <span class="kn">import</span> <span class="o">*</span>
<span class="c1">#plotly.plotly pushes your charts to the cloud  </span>
<span class="c1"># import chart_studio.plotly as py</span>
<span class="kn">import</span> <span class="nn">plotly.figure_factory</span> <span class="k">as</span> <span class="nn">ff</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="c1"># import cufflings to easily plot pandas data frames</span>
<span class="kn">import</span> <span class="nn">cufflinks</span> <span class="k">as</span> <span class="nn">cf</span>
<span class="c1"># work with cufflinks offline and set its theme</span>
<span class="kn">import</span> <span class="nn">plotly.io</span> <span class="k">as</span> <span class="nn">pio</span>
<span class="n">pio</span><span class="o">.</span><span class="n">templates</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="s2">"plotly_white"</span>

<span class="n">cf</span><span class="o">.</span><span class="n">go_offline</span><span class="p">()</span>
<span class="n">cf</span><span class="o">.</span><span class="n">set_config_file</span><span class="p">(</span><span class="n">theme</span><span class="o">=</span><span class="s1">'white'</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">pandas_profiling</span> <span class="kn">import</span> <span class="n">ProfileReport</span>
<span class="kn">from</span> <span class="nn">googletrans</span> <span class="kn">import</span> <span class="n">Translator</span>
<span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">sys</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax) {MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        if (typeof require !== 'undefined') {
        require.undef("plotly");
        requirejs.config({
            paths: {
                'plotly': ['https://cdn.plot.ly/plotly-latest.min']
            }
        });
        require(['plotly'], function(Plotly) {
            window._Plotly = Plotly;
        });
        }
        </script>
        
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>1.0.3
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">print_full</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">'display.max_colwidth'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span>

<span class="k">def</span> <span class="nf">reset</span><span class="p">():</span>
    <span class="n">pd</span><span class="o">.</span><span class="n">reset_option</span><span class="p">(</span><span class="s1">'display.max_colwidth'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cf</span><span class="o">.</span><span class="n">getThemes</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>['ggplot', 'pearl', 'solar', 'space', 'white', 'polar', 'henanigans']</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cf</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">scales</span><span class="p">()</span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<div style="display:inline-block;padding:10px;">
<div>accent</div>
<div style="background-color:rgb(127,201,127);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(190,174,212);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,192,134);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255,255,153);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(56,108,176);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(240,2,127);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(191,91,23);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(102,102,102);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>blues</div>
<div style="background-color:rgb(247,251,255);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(222,235,247);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(198,219,239);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(158,202,225);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(107,174,214);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(66,146,198);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(33,113,181);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(8,81,156);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(8,48,107);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>brbg</div>
<div style="background-color:rgb(84,48,5);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(140,81,10);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(191,129,45);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(223,194,125);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(246,232,195);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(245,245,245);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(199,234,229);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(128,205,193);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(53,151,143);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(1,102,94);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(0,60,48);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>bugn</div>
<div style="background-color:rgb(247,252,253);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(229,245,249);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(204,236,230);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(153,216,201);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(102,194,164);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(65,174,118);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(35,139,69);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(0,109,44);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(0,68,27);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>bupu</div>
<div style="background-color:rgb(247,252,253);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(224,236,244);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(191,211,230);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(158,188,218);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(140,150,198);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(140,107,177);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(136,65,157);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(129,15,124);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(77,0,75);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>dark2</div>
<div style="background-color:rgb(27,158,119);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(217,95,2);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(117,112,179);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(231,41,138);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(102,166,30);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(230,171,2);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(166,118,29);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(102,102,102);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>dflt</div>
<div style="background-color:rgb(255, 153, 51);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(55, 128, 191);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(50, 171, 96);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(128, 0, 128);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(219, 64, 82);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(0, 128, 128);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255, 255, 51);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(128, 128, 0);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(251, 128, 114);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(128, 177, 211);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>ggplot</div>
<div style="background-color:rgb(226, 74, 51);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(62, 111, 176);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(132, 118, 202);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(101, 101, 101);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(251, 193, 94);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(142, 186, 66);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255, 181, 184);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>gnbu</div>
<div style="background-color:rgb(247,252,240);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(224,243,219);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(204,235,197);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(168,221,181);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(123,204,196);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(78,179,211);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(43,140,190);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(8,104,172);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(8,64,129);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>greens</div>
<div style="background-color:rgb(247,252,245);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(229,245,224);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(199,233,192);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(161,217,155);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(116,196,118);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(65,171,93);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(35,139,69);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(0,109,44);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(0,68,27);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>greys</div>
<div style="background-color:rgb(255,255,255);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(240,240,240);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(217,217,217);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(189,189,189);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(150,150,150);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(115,115,115);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(82,82,82);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(37,37,37);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(0,0,0);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>henanigans</div>
<div style="background-color:rgb(182, 236, 243);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(222, 149, 142);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(160, 209, 123);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(147, 182, 230);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(235, 180, 131);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(172, 146, 222);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(233, 234, 190);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(244, 244, 244);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(126, 196, 207);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(247, 126, 112);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(139, 209, 85);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(95, 149, 222);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>oranges</div>
<div style="background-color:rgb(255,245,235);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(254,230,206);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,208,162);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,174,107);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,141,60);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(241,105,19);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(217,72,1);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(166,54,3);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(127,39,4);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>original</div>
<div style="background-color:rgb(255, 153, 51);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(55, 128, 191);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(50, 171, 96);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(128, 0, 128);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(219, 64, 82);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(0, 128, 128);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255, 255, 51);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(128, 128, 0);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(251, 128, 114);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(128, 177, 211);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>orrd</div>
<div style="background-color:rgb(255,247,236);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(254,232,200);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,212,158);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,187,132);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(252,141,89);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(239,101,72);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(215,48,31);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(179,0,0);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(127,0,0);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>paired</div>
<div style="background-color:rgb(166,206,227);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(31,120,180);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(178,223,138);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(51,160,44);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(251,154,153);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(227,26,28);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,191,111);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255,127,0);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(202,178,214);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(106,61,154);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255,255,153);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(177,89,40);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>pastel1</div>
<div style="background-color:rgb(251,180,174);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(179,205,227);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(204,235,197);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(222,203,228);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(254,217,166);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255,255,204);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(229,216,189);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,218,236);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(242,242,242);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>pastel2</div>
<div style="background-color:rgb(179,226,205);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,205,172);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(203,213,232);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(244,202,228);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(230,245,201);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255,242,174);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(241,226,204);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(204,204,204);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>piyg</div>
<div style="background-color:rgb(142,1,82);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(197,27,125);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(222,119,174);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(241,182,218);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,224,239);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(247,247,247);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(230,245,208);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(184,225,134);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(127,188,65);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(77,146,33);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(39,100,25);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>plotly</div>
<div style="background-color:rgb(31, 119, 180);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255, 127, 14);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(44, 160, 44);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(214, 39, 40);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(148, 103, 189);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(140, 86, 75);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(227, 119, 194);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(127, 127, 127);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(188, 189, 34);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(23, 190, 207);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>polar</div>
<div style="background-color:rgb(0, 128, 240);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(238, 118, 0);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(48, 144, 84);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(98, 98, 222);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(217, 66, 85);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(173, 252, 252);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(70, 160, 240);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>prgn</div>
<div style="background-color:rgb(64,0,75);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(118,42,131);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(153,112,171);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(194,165,207);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(231,212,232);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(247,247,247);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(217,240,211);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(166,219,160);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(90,174,97);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(27,120,55);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(0,68,27);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>pubu</div>
<div style="background-color:rgb(255,247,251);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(236,231,242);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(208,209,230);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(166,189,219);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(116,169,207);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(54,144,192);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(5,112,176);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(4,90,141);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(2,56,88);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>pubugn</div>
<div style="background-color:rgb(255,247,251);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(236,226,240);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(208,209,230);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(166,189,219);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(103,169,207);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(54,144,192);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(2,129,138);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(1,108,89);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(1,70,54);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>puor</div>
<div style="background-color:rgb(127,59,8);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(179,88,6);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(224,130,20);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,184,99);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(254,224,182);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(247,247,247);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(216,218,235);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(178,171,210);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(128,115,172);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(84,39,136);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(45,0,75);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>purd</div>
<div style="background-color:rgb(247,244,249);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(231,225,239);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(212,185,218);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(201,148,199);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(223,101,176);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(231,41,138);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(206,18,86);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(152,0,67);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(103,0,31);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>purples</div>
<div style="background-color:rgb(252,251,253);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(239,237,245);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(218,218,235);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(188,189,220);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(158,154,200);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(128,125,186);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(106,81,163);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(84,39,143);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(63,0,125);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>rdbu</div>
<div style="background-color:rgb(103,0,31);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(178,24,43);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(214,96,77);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(244,165,130);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,219,199);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(247,247,247);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(209,229,240);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(146,197,222);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(67,147,195);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(33,102,172);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(5,48,97);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>rdgy</div>
<div style="background-color:rgb(103,0,31);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(178,24,43);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(214,96,77);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(244,165,130);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,219,199);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255,255,255);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(224,224,224);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(186,186,186);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(135,135,135);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(77,77,77);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(26,26,26);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>rdpu</div>
<div style="background-color:rgb(255,247,243);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,224,221);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(252,197,192);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(250,159,181);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(247,104,161);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(221,52,151);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(174,1,126);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(122,1,119);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(73,0,106);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>rdylbu</div>
<div style="background-color:rgb(165,0,38);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(215,48,39);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(244,109,67);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,174,97);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(254,224,144);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255,255,191);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(224,243,248);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(171,217,233);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(116,173,209);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(69,117,180);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(49,54,149);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>rdylgn</div>
<div style="background-color:rgb(165,0,38);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(215,48,39);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(244,109,67);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,174,97);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(254,224,139);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255,255,191);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(217,239,139);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(166,217,106);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(102,189,99);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(26,152,80);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(0,104,55);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>reds</div>
<div style="background-color:rgb(255,245,240);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(254,224,210);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(252,187,161);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(252,146,114);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(251,106,74);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(239,59,44);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(203,24,29);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(165,15,21);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(103,0,13);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>set1</div>
<div style="background-color:rgb(228,26,28);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(55,126,184);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(77,175,74);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(152,78,163);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255,127,0);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255,255,51);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(166,86,40);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(247,129,191);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(153,153,153);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>set2</div>
<div style="background-color:rgb(102,194,165);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(252,141,98);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(141,160,203);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(231,138,195);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(166,216,84);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255,217,47);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(229,196,148);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(179,179,179);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>set3</div>
<div style="background-color:rgb(141,211,199);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255,255,179);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(190,186,218);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(251,128,114);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(128,177,211);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,180,98);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(179,222,105);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(252,205,229);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(217,217,217);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(188,128,189);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(204,235,197);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255,237,111);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>spectral</div>
<div style="background-color:rgb(158,1,66);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(213,62,79);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(244,109,67);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,174,97);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(254,224,139);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255,255,191);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(230,245,152);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(171,221,164);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(102,194,165);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(50,136,189);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(94,79,162);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>ylgn</div>
<div style="background-color:rgb(255,255,229);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(247,252,185);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(217,240,163);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(173,221,142);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(120,198,121);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(65,171,93);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(35,132,67);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(0,104,55);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(0,69,41);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>ylgnbu</div>
<div style="background-color:rgb(255,255,217);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(237,248,177);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(199,233,180);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(127,205,187);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(65,182,196);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(29,145,192);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(34,94,168);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(37,52,148);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(8,29,88);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>ylorbr</div>
<div style="background-color:rgb(255,255,229);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255,247,188);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(254,227,145);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(254,196,79);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(254,153,41);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(236,112,20);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(204,76,2);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(153,52,4);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(102,37,6);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
<div style="display:inline-block;padding:10px;">
<div>ylorrd</div>
<div style="background-color:rgb(255,255,204);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(255,237,160);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(254,217,118);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(254,178,76);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(253,141,60);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(252,78,42);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(227,26,28);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(189,0,38);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
<div style="background-color:rgb(128,0,38);height:20px;width:20px;margin-bottom:0px;display:inline-block;"></div>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">'Samira - Arabic Stock Market Data.xlsx'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 34386 entries, 0 to 34385
Data columns (total 19 columns):
 #   Column                     Non-Null Count  Dtype         
---  ------                     --------------  -----         
 0   Sector                     34386 non-null  object        
 1   Company ID                 34386 non-null  int64         
 2   Company Name               34386 non-null  object        
 3   Date                       34386 non-null  object        
 4   Time                       34386 non-null  object        
 5   News Title                 34386 non-null  object        
 6   News Details               30098 non-null  object        
 7   Polarity                   34386 non-null  object        
 8   Polarity Words             34386 non-null  object        
 9   Date_1st_Additional        34386 non-null  datetime64[ns]
 10  Oppening                   34269 non-null  float64       
 11  The Highest                34269 non-null  float64       
 12  The Lowest                 34269 non-null  float64       
 13  Closing                    34269 non-null  float64       
 14  Changing                   34269 non-null  float64       
 15  Changing%                  34269 non-null  float64       
 16  The quantity Handled       34269 non-null  float64       
 17  Total Current Value (SAR)  34269 non-null  float64       
 18  Number of Deals            34269 non-null  float64       
dtypes: datetime64[ns](1), float64(9), int64(1), object(8)
memory usage: 5.0+ MB
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">'Polarity'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Positive     15506
Neutral      11479
-             4288
Negative      3102
neutral          4
negative         3
positive         3
 Negative        1
Name: Polarity, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We need to normalize this column</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">'Polarity'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Polarity'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">'Polarity'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Positive    15509
Neutral     11483
-            4288
Negative     3106
Name: Polarity, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Sector</th>
      <th>Company ID</th>
      <th>Company Name</th>
      <th>Date</th>
      <th>Time</th>
      <th>News Title</th>
      <th>News Details</th>
      <th>Polarity</th>
      <th>Polarity Words</th>
      <th>Date_1st_Additional</th>
      <th>Oppening</th>
      <th>The Highest</th>
      <th>The Lowest</th>
      <th>Closing</th>
      <th>Changing</th>
      <th>Changing%</th>
      <th>The quantity Handled</th>
      <th>Total Current Value (SAR)</th>
      <th>Number of Deals</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>البنوك</td>
      <td>1020</td>
      <td>بنك الجزيرة</td>
      <td>12/31/2011 12:00:00 AM</td>
      <td>12:07:52</td>
      <td>يعلن بنك الجزيرة عن توصية مجلس إدارته توزيع أر...</td>
      <td>يعلن بنك الجزيرة عن توصية مجلس إدارته توزيع أر...</td>
      <td>Positive</td>
      <td>ارباح سنوية - توزيع أرباح</td>
      <td>2011-12-31</td>
      <td>9.07</td>
      <td>9.12</td>
      <td>8.93</td>
      <td>8.96</td>
      <td>0.11</td>
      <td>1.24</td>
      <td>1961798.0</td>
      <td>17729676.1</td>
      <td>514.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>البنوك</td>
      <td>1050</td>
      <td>البنك السعودي الفرنسي</td>
      <td>12/30/2019 12:00:00 AM</td>
      <td>15:22:03</td>
      <td>يعلن البنك السعودي الفرنسي عن توصية مجلس الإدا...</td>
      <td>بند توضيح  مقدمة يعلن البنك السعودي الفرنسي ع...</td>
      <td>Positive</td>
      <td>توزيع - ارباح</td>
      <td>2019-12-30</td>
      <td>37.30</td>
      <td>38.20</td>
      <td>37.30</td>
      <td>37.55</td>
      <td>0.30</td>
      <td>0.81</td>
      <td>555205.0</td>
      <td>20956971.9</td>
      <td>634.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">translator</span> <span class="o">=</span> <span class="n">Translator</span><span class="p">()</span>

<span class="n">unique_sectors</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Sector'</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="n">unique_sectors_en</span> <span class="o">=</span> <span class="p">[</span><span class="n">translator</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">sector</span><span class="p">,</span> <span class="n">src</span><span class="o">=</span><span class="s1">'ar'</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">title</span><span class="p">()</span> <span class="k">for</span> <span class="n">sector</span> <span class="ow">in</span> <span class="n">unique_sectors</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">unique_sectors</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">unique_sectors_en</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>['البنوك', 'مؤشر السوق الرئيسية (تاسي)', 'المواد الأساسية', 'السلع الرأسمالية', 'السلع طويلة الاجل', 'تجزئة السلع الكمالية', 'الخدمات الإستهلاكية', 'الخدمات التجارية والمهنية', 'الطاقة', 'إنتاج الأغذية', 'الادوية', 'المرافق العامة', 'الإستثمار والتمويل', 'النقل', 'الرعاية الصحية', 'تجزئة الأغذية', 'إدارة وتطوير العقارات', 'الإعلام والترفيه', 'الصناديق العقارية المتداولة', 'الإتصالات', 'التطبيقات وخدمات التقنية', 'التأمين']
['Banks', 'Main Market Index (Tasi)', 'Basic Materials', 'Capital Goods', 'Long-Term Goods', 'Retail Of Luxury Goods', 'Consumer Services', 'Business And Professional Services', 'Energy', 'Food Production', 'Pharmaceutical', 'Public Utility', 'Investment And Financing', 'Transport', 'Healthcare', 'Food Segmentation', 'Real Estate Management And Development', 'Media And Entertainment', 'Real Estate Traded Funds', 'Telecommunications', 'Applications And Technology Services', 'Insurance']
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">unique_sectors_en</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Banks'</span><span class="p">,</span> <span class="s1">'Tasi Main Market Index'</span><span class="p">,</span> 
                     <span class="s1">'Basic Materials'</span><span class="p">,</span> <span class="s1">'Capital Goods'</span><span class="p">,</span> 
                     <span class="s1">'Long-Term Goods'</span><span class="p">,</span> <span class="s1">'Retail Of Luxury Goods'</span><span class="p">,</span> 
                     <span class="s1">'Consumer Services'</span><span class="p">,</span> <span class="s1">'Commercial And Professional Services'</span><span class="p">,</span> 
                     <span class="s1">'Energy'</span><span class="p">,</span> <span class="s1">'Food Production'</span><span class="p">,</span> <span class="s1">'Pharmaceutical'</span><span class="p">,</span> 
                     <span class="s1">'Public Utility'</span><span class="p">,</span> <span class="s1">'Investment And Financing'</span><span class="p">,</span> <span class="s1">'Transport'</span><span class="p">,</span> 
                     <span class="s1">'Healthcare'</span><span class="p">,</span> <span class="s1">'Food Segmentation'</span><span class="p">,</span> <span class="s1">'Real Estate M &amp; D'</span><span class="p">,</span> 
                     <span class="s1">'Media And Entertainment'</span><span class="p">,</span> <span class="s1">'Real Estate Traded Funds'</span><span class="p">,</span> 
                     <span class="s1">'Telecommunications'</span><span class="p">,</span> <span class="s1">'Applications And Technology Services'</span><span class="p">,</span> <span class="s1">'Insurance'</span><span class="p">]</span>


<span class="n">sector_map</span> <span class="o">=</span> <span class="p">{</span><span class="n">sector_ar</span><span class="p">:</span><span class="n">sector_en</span> <span class="k">for</span> <span class="n">sector_ar</span><span class="p">,</span> <span class="n">sector_en</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">unique_sectors</span><span class="p">,</span> <span class="n">unique_sectors_en</span><span class="p">)}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">'Sector_en'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Sector'</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">sector_map</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">'Sector'</span><span class="p">,</span> <span class="s1">'Sector_en'</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Sector                       Sector_en                           
إدارة وتطوير العقارات        Real Estate M &amp; D                       1961
إنتاج الأغذية                Food Production                         2423
الإتصالات                    Telecommunications                      1099
الإستثمار والتمويل           Investment And Financing                 826
الإعلام والترفيه             Media And Entertainment                  416
الادوية                      Pharmaceutical                           243
البنوك                       Banks                                   1477
التأمين                      Insurance                               7643
التطبيقات وخدمات التقنية     Applications And Technology Services      22
الخدمات الإستهلاكية          Consumer Services                       1134
الخدمات التجارية والمهنية    Commercial And Professional Services     322
الرعاية الصحية               Healthcare                               887
السلع الرأسمالية             Capital Goods                           2904
السلع طويلة الاجل            Long-Term Goods                          756
الصناديق العقارية المتداولة  Real Estate Traded Funds                 601
الطاقة                       Energy                                   956
المرافق العامة               Public Utility                           443
المواد الأساسية              Basic Materials                         7276
النقل                        Transport                               1018
تجزئة الأغذية                Food Segmentation                        640
تجزئة السلع الكمالية         Retail Of Luxury Goods                  1210
مؤشر السوق الرئيسية (تاسي)   Tasi Main Market Index                   129
dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">drop_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Date'</span><span class="p">,</span> <span class="s1">'Company ID'</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">drop_cols</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># df['Date'] = pd.to_datetime(df['Date_1st_Additional'] + ' ' + df['Time'])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">'Date'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span> <span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">'Date_1st_Additional'</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="s1">'Time'</span><span class="p">]),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>D:\Anaconda3\envs\tf2\lib\site-packages\ipykernel_launcher.py:1: FutureWarning:

The pandas.datetime class is deprecated and will be removed from pandas in a future version. Import from datetime module instead.

</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">'Date_1st_Additional'</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 34386 entries, 0 to 34385
Data columns (total 18 columns):
 #   Column                     Non-Null Count  Dtype         
---  ------                     --------------  -----         
 0   Sector                     34386 non-null  object        
 1   Company Name               34386 non-null  object        
 2   Time                       34386 non-null  object        
 3   News Title                 34386 non-null  object        
 4   News Details               30098 non-null  object        
 5   Polarity                   34386 non-null  object        
 6   Polarity Words             34386 non-null  object        
 7   Oppening                   34269 non-null  float64       
 8   The Highest                34269 non-null  float64       
 9   The Lowest                 34269 non-null  float64       
 10  Closing                    34269 non-null  float64       
 11  Changing                   34269 non-null  float64       
 12  Changing%                  34269 non-null  float64       
 13  The quantity Handled       34269 non-null  float64       
 14  Total Current Value (SAR)  34269 non-null  float64       
 15  Number of Deals            34269 non-null  float64       
 16  Sector_en                  34386 non-null  object        
 17  Date                       34386 non-null  datetime64[ns]
dtypes: datetime64[ns](1), float64(9), object(8)
memory usage: 4.7+ MB
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'The Quantity Handled'</span> <span class="k">if</span> <span class="n">col</span><span class="o">==</span><span class="s1">'The quantity Handled'</span> <span class="k">else</span> <span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 34386 entries, 0 to 34385
Data columns (total 18 columns):
 #   Column                     Non-Null Count  Dtype         
---  ------                     --------------  -----         
 0   Sector                     34386 non-null  object        
 1   Company Name               34386 non-null  object        
 2   Time                       34386 non-null  object        
 3   News Title                 34386 non-null  object        
 4   News Details               30098 non-null  object        
 5   Polarity                   34386 non-null  object        
 6   Polarity Words             34386 non-null  object        
 7   Oppening                   34269 non-null  float64       
 8   The Highest                34269 non-null  float64       
 9   The Lowest                 34269 non-null  float64       
 10  Closing                    34269 non-null  float64       
 11  Changing                   34269 non-null  float64       
 12  Changing%                  34269 non-null  float64       
 13  The Quantity Handled       34269 non-null  float64       
 14  Total Current Value (SAR)  34269 non-null  float64       
 15  Number of Deals            34269 non-null  float64       
 16  Sector_en                  34386 non-null  object        
 17  Date                       34386 non-null  datetime64[ns]
dtypes: datetime64[ns](1), float64(9), object(8)
memory usage: 4.7+ MB
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># profile = ProfileReport(df, title="EDA Report", explorative=True)</span>
<span class="c1"># profile.to_widgets()</span>
<span class="c1"># profile.to_file("EDA-Report.html")</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Data-Cleaning-and-Normalization">
<a class="anchor" href="#Data-Cleaning-and-Normalization" aria-hidden="true"><span class="octicon octicon-link"></span></a>Data Cleaning and Normalization<a class="anchor-link" href="#Data-Cleaning-and-Normalization"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Exploring-Nans">
<a class="anchor" href="#Exploring-Nans" aria-hidden="true"><span class="octicon octicon-link"></span></a>Exploring Nans<a class="anchor-link" href="#Exploring-Nans"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>      <span class="c1"># nans in each column</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Sector                          0
Company Name                    0
Time                            0
News Title                      0
News Details                 4288
Polarity                        0
Polarity Words                  0
Oppening                      117
The Highest                   117
The Lowest                    117
Closing                       117
Changing                      117
Changing%                     117
The Quantity Handled          117
Total Current Value (SAR)     117
Number of Deals               117
Sector_en                       0
Date                            0
dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">'News Details'</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Sector</th>
      <th>Company Name</th>
      <th>Time</th>
      <th>News Title</th>
      <th>News Details</th>
      <th>Polarity</th>
      <th>Polarity Words</th>
      <th>Oppening</th>
      <th>The Highest</th>
      <th>The Lowest</th>
      <th>Closing</th>
      <th>Changing</th>
      <th>Changing%</th>
      <th>The Quantity Handled</th>
      <th>Total Current Value (SAR)</th>
      <th>Number of Deals</th>
      <th>Sector_en</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>42</th>
      <td>البنوك</td>
      <td>بنك الرياض</td>
      <td>09:08:18</td>
      <td>يعلن بنك الرياض النتائج المالية الأولية للفترة...</td>
      <td>NaN</td>
      <td>-</td>
      <td>-</td>
      <td>14.10</td>
      <td>14.38</td>
      <td>14.00</td>
      <td>14.32</td>
      <td>0.44</td>
      <td>3.17</td>
      <td>1240491.0</td>
      <td>17632591.10</td>
      <td>454.0</td>
      <td>Banks</td>
      <td>2018-05-10 09:08:18</td>
    </tr>
    <tr>
      <th>45</th>
      <td>البنوك</td>
      <td>بنك الرياض</td>
      <td>09:15:43</td>
      <td>يعلن بنك الرياض النتائج المالية الأولية للفترة...</td>
      <td>NaN</td>
      <td>-</td>
      <td>-</td>
      <td>17.44</td>
      <td>17.44</td>
      <td>17.28</td>
      <td>17.28</td>
      <td>-0.14</td>
      <td>-0.80</td>
      <td>1412731.0</td>
      <td>24518465.52</td>
      <td>434.0</td>
      <td>Banks</td>
      <td>2018-07-17 09:15:43</td>
    </tr>
    <tr>
      <th>48</th>
      <td>البنوك</td>
      <td>بنك الرياض</td>
      <td>08:57:33</td>
      <td>يعلن بنك الرياض النتائج المالية السنوية للفترة...</td>
      <td>NaN</td>
      <td>-</td>
      <td>-</td>
      <td>13.66</td>
      <td>13.90</td>
      <td>13.60</td>
      <td>13.71</td>
      <td>0.12</td>
      <td>0.88</td>
      <td>1298818.0</td>
      <td>17898699.10</td>
      <td>458.0</td>
      <td>Banks</td>
      <td>2018-02-13 08:57:33</td>
    </tr>
    <tr>
      <th>57</th>
      <td>البنوك</td>
      <td>بنك الرياض</td>
      <td>15:08:08</td>
      <td>يعلن بنك الرياض النتائج المالية الأولية للفترة...</td>
      <td>NaN</td>
      <td>-</td>
      <td>-</td>
      <td>11.16</td>
      <td>11.16</td>
      <td>11.04</td>
      <td>11.04</td>
      <td>-0.06</td>
      <td>-0.54</td>
      <td>476971.0</td>
      <td>5288972.34</td>
      <td>177.0</td>
      <td>Banks</td>
      <td>2017-10-18 15:08:08</td>
    </tr>
    <tr>
      <th>61</th>
      <td>البنوك</td>
      <td>بنك الرياض</td>
      <td>09:30:17</td>
      <td>يعلن بنك الرياض النتائج المالية الأولية للفترة...</td>
      <td>NaN</td>
      <td>-</td>
      <td>-</td>
      <td>10.80</td>
      <td>10.82</td>
      <td>10.76</td>
      <td>10.76</td>
      <td>-0.09</td>
      <td>-0.83</td>
      <td>803455.0</td>
      <td>8665789.58</td>
      <td>262.0</td>
      <td>Banks</td>
      <td>2017-07-19 09:30:17</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>34335</th>
      <td>التأمين</td>
      <td>شركة بروج للتأمين التعاوني</td>
      <td>13:54:22</td>
      <td>تعلن شركة بروج للتأمين التعاوني النتائج المالي...</td>
      <td>NaN</td>
      <td>-</td>
      <td>-</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Insurance</td>
      <td>2013-07-20 13:54:22</td>
    </tr>
    <tr>
      <th>34377</th>
      <td>السلع الرأسمالية</td>
      <td>شركة البابطين للطاقة والإتصالات</td>
      <td>16:34:54</td>
      <td>تعلن شركة البابطين للطاقة و الاتصالات النتائج ...</td>
      <td>NaN</td>
      <td>-</td>
      <td>-</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Capital Goods</td>
      <td>2014-07-19 16:34:54</td>
    </tr>
    <tr>
      <th>34379</th>
      <td>تجزئة الأغذية</td>
      <td>الشركة السعودية للتسويق</td>
      <td>15:15:53</td>
      <td>تعلن الشركة السعودية للتسويق (أسواق المزرعة) ا...</td>
      <td>NaN</td>
      <td>-</td>
      <td>-</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Food Segmentation</td>
      <td>2014-07-19 15:15:53</td>
    </tr>
    <tr>
      <th>34381</th>
      <td>إنتاج الأغذية</td>
      <td>شركة وفرة للصناعة والتنمية</td>
      <td>14:38:31</td>
      <td>تعلن شركة وفرة للصناعة والتنمية النتائج المالي...</td>
      <td>NaN</td>
      <td>-</td>
      <td>-</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Food Production</td>
      <td>2014-07-19 14:38:31</td>
    </tr>
    <tr>
      <th>34382</th>
      <td>التأمين</td>
      <td>شركة المتوسط والخليج للتأمين وإعادة التأمين ال...</td>
      <td>14:23:50</td>
      <td>تعلن شركة المتوسط والخليج للتأمين وإعادة التأم...</td>
      <td>NaN</td>
      <td>-</td>
      <td>-</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Insurance</td>
      <td>2014-07-19 14:23:50</td>
    </tr>
  </tbody>
</table>
<p>4288 rows × 18 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># remove NANs</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">'News Details'</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Sector                         0
Company Name                   0
Time                           0
News Title                     0
News Details                   0
Polarity                       0
Polarity Words                 0
Oppening                     105
The Highest                  105
The Lowest                   105
Closing                      105
Changing                     105
Changing%                    105
The Quantity Handled         105
Total Current Value (SAR)    105
Number of Deals              105
Sector_en                      0
Date                           0
dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Exploring-Duplicates">
<a class="anchor" href="#Exploring-Duplicates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Exploring Duplicates<a class="anchor-link" href="#Exploring-Duplicates"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># check number of duplicated records (rows)</span>
<span class="n">df</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>4</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># check the duplicated reviews</span>
<span class="n">print_full</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">'News Details'</span><span class="p">]</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Sector</th>
      <th>Company Name</th>
      <th>Time</th>
      <th>News Title</th>
      <th>News Details</th>
      <th>Polarity</th>
      <th>Polarity Words</th>
      <th>Oppening</th>
      <th>The Highest</th>
      <th>The Lowest</th>
      <th>Closing</th>
      <th>Changing</th>
      <th>Changing%</th>
      <th>The Quantity Handled</th>
      <th>Total Current Value (SAR)</th>
      <th>Number of Deals</th>
      <th>Sector_en</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>148</th>
      <td>البنوك</td>
      <td>بنك الرياض</td>
      <td>08:07:05</td>
      <td>يدعو بنك الرياض السادة المساهمين لحضور اجتماع الجمعية العامة العادية (إعلان تذكيري)</td>
      <td>يسر مجلس إدارة بنك الرياض ، دعوة مساهميه الكرام لحضور اجتماع الجمعية العامة العادية الذي سيعقد ، بمشيئة الله ، عند الساعة السادسة من مساء يوم الاثنين 23/12/1434هـ الموافق 28/10/2013م بمقر الإدارة العامة لبنك الرياض بطريق الملك عبد العزيز حي المربع بمدينة الرياض ، وذلك للنظر في جدول الأعمال التالي: البند الوحيد :انتخاب أعضاء مجلس إدارة البنك لمدة ثلاث سنوات قادمة اعتبارا من تاريخ 26/12/1434هـ الموافق31/10/2013م من بين المرشحين لعضوية مجلس الإدارة. هذا وتتوافر البيانات عن المرشحين لعضوية مجلس الإدارة بمقر الإدارة العامة للبنك للاطلاع عليها ، خلال الخمسة و عشرون يوماً السابقة لموعد الاجتماع .ويحق لكل مساهم يمتلك عشرين سهماً على الأقل حضور الاجتماع المشار إليه ، وله أن يوكل عنه مساهماً آخراً يمتلك عشرين سهما على الأقل لتمثيله في الاجتماع بموجب التوكيل المبين نصه أدناه (وفقاً لضوابط التوكيل الصادرة بقرار معالي وزير التجارة رقم 294 في 13/2/1422هـ ). وبحيث يرسـل التوكيل أدناه إلى بنك الريــاض (لعنــاية إدارة علاقـات المساهمــين ص.ب. 22622 الرياض 11416) ليصل البنك قبل موعد الاجتماع بسبعة أيام على الأقل . وعلى كل مساهم يرغب في حضور الاجتماع إحضار بطاقة الأحوال المدنية والمستندات الدالة على ملكيته وموكليه للأسهم. ويكون اجتماع الجمعية العامة العادية صحيحاً إذا حضره مساهمون يمتلكون نصف رأس مال البنك على الأقل.ووفقا للنظام الأساسي للبنك فإن انتخاب اعضاء مجلس الإدارة سيتم وفق اسلوب التصويت العادي.ويرجى من المساهمين الكرام الحضور قبل موعد الاجتماع بساعة واحدة على الأقل ، وذلك لإنهاء إجراءات تسجيلهم.وللرد على أي استفسار ، يرجى الاتصال عبر الهاتف رقم 3030-401/011 توصيله رقم ( 2444 ، 2445 ) ، أو عبر الفاكس رقم 0016-403/011 (الرياض) خلال ساعات الدوام الرسمي للبنك أو على البريد الإلكتروني : shareholders@riyadbank.com واللـــــه الموفــــــق بنك الرياض ، المركز الرئيسي - طريق الملك عبد العزيز - ص ب : 22622 الرياض 11416 www.riyadbank.comتوكيل خاصأنا المساهم / .................................................. الموقع أدناه ، بموجــــب بطاقة الأحـــوال الـمدنيـة رقم / ........................... الصادرة من بتاريخ / / هـ وبصفتي أحد المساهمين في بنك الرياض ( شركة مساهمة سعودية )، والمالك لعدد ( ) سهم قد وكلت المساهم .......................... بطاقة الأحوال المدنية رقم / .......................... الصادرة من بتاريخ / / هـ ( وهو من غير أعضاء مجلس الإدارة أو موظفي البنك أو المكلفين بالقيام بصفة دائمة بعمل فني أو إداري لحسابه ) ، لينوب عني في حضور اجتماع الجمعية العامة العادية لمساهمي بنك الرياض والمقرر عقده بمشيئة الله، في يوم الاثنين 23/12/1434هـ الموافق 28/10/2013م، والتصويت على بنود جدول أعمال الجمعية نيابة عني والتوقيع على كل المستندات المطلوبة والضرورية واللازمة لإجراءات الاجتماع . كما يسري هذا التوكيل للاجتماع الثاني في حال تأجيل الاجتماع . تحريرا في : / / 1434هـالموافق : / / 2013مالأسم :التوقيع : المصادقة على صحة التوقيع:الصفة :</td>
      <td>Positive</td>
      <td>توقيع - عقد</td>
      <td>14.10</td>
      <td>14.25</td>
      <td>14.05</td>
      <td>14.20</td>
      <td>0.10</td>
      <td>0.71</td>
      <td>670654.0</td>
      <td>9.484389e+06</td>
      <td>114.0</td>
      <td>Banks</td>
      <td>2013-10-21 08:07:05</td>
    </tr>
    <tr>
      <th>262</th>
      <td>البنوك</td>
      <td>البنك السعودي الفرنسي</td>
      <td>15:42:37</td>
      <td>يدعو البنك السعودي الفرنسي مساهميه لحضور اجتماع الجمعية العامة العادية</td>
      <td>يسر مجلس إدارة البنك السعودي الفرنسي دعوة مساهميه الكرام لحضور اجتماع الجمعية العامة العادية والتي ستعقد بإذن الله في تمام الساعة السادسة والنصف بعد صلاة المغرب ليوم الأحد 22/4/1432هـ الموافق (27/3/2011) بالدور الثامــن بمقر المركز الرئيسي للبنك الكائن بشارع المعذر بمدينة الرياض وذلك للنظر في جدول الأعمال التالي :-  (1) الموافقة على تقرير مجلس الإدارة عن العام المالي المنتهي في 31/12/2010م.  (2) التصديق على الميزانية العامة للبنك كما في 31/12/2010م وعلى حساب الأرباح والخسائر عن نفس السنة المالية.  (3) الموافقة على تقرير مراقبي الحسابات عن العام المالي المنتهي في 31/12/2010م.  (4) الموافقة على توصية مجلس الإدارة بشأن توزيع الأرباح عن العـــام المالي 2010م بمقدار (ريال واحد) للسهم الواحد آي    بنسبة 10% من القيمة الاسمية للسهم لحملة أسهم البنــــــك المسجلين بسجلات مساهمي البنك كما في نهاية تداول يوم    الأحد 22/4/1432هـ الموافق (27/3/2011) وبعـد إقرارها مـن قبل الجمعية العامة العادية.  (5) إبراء ذمة أعضاء مجلس الإدارة عن العام المالي 2010م.  (6) الموافقة على اختيار مراقبي الحسابات من بين المرشحين مــن قبل لجنة المراجعـة الداخلية لمراجعة القوائم المالية للبنك    للعام المالي 2011م والبيانات ربع السنوية وتحديد أتعابهم.  واستناداً لنظام الشركات وللمادة (25) من النظام الأساسي للبنك: لكل مساهم (أيا كان عدد أسهمه) حق حضور الجمعيات العامة للمساهمين. وللمساهم أن ينيب عنه بمقتضى توكيل مكتوب مساهماً آخر من غير أعضاء مجلس الإدارة أو موظفي البنك في الحضور على أن يتم مصادقة التوكيل من جهـة معترف بها:-  أ- الغرفة التجارية الصناعية متى كان المساهم منتسباً لأحدها وكذلك الحال إذا كـان للمساهم شركة أو مؤسسة اعتبارية.  ب - البنوك السعودية شريطة أن يكون للموكل حساب لدى البنك المصدق.  ج - الجهة التي يعمل بها المساهم الراغب في التوكيل.  د- - إحدى الجهات الحكومية المختصة.  (تتمه)</td>
      <td>Neutral</td>
      <td>جمعية - عامة - موافقة</td>
      <td>23.20</td>
      <td>23.25</td>
      <td>20.85</td>
      <td>21.38</td>
      <td>-1.65</td>
      <td>-7.16</td>
      <td>579830.0</td>
      <td>1.274188e+07</td>
      <td>272.0</td>
      <td>Banks</td>
      <td>2011-03-02 15:42:37</td>
    </tr>
    <tr>
      <th>1188</th>
      <td>البنوك</td>
      <td>مصرف الراجحي</td>
      <td>16:17:51</td>
      <td>يدعو مصرف الراجحي السادة مساهمي المصرف لحضور اجتماع الجمعية العامة العادية التاسعة والعشرون ( الاجتماع الأول )</td>
      <td>يسر مجلس إدارة مصرف الراجحي دعوة السادة مساهمي المصرف لحضور اجتماع الجمعية العامة العادية (التاسع والعشرون) المقرر عقدها في تمام الساعة السادسة والنصف من مساء يوم الاحد 8 رجب 1439هـ الموافق 25 مارس 2018م (حسب تقويم أم القرى) وذلك في فندق الانتركونتننتال قاعة بريدة في مدينة الرياض (رابط موقع الاجتماع https://goo.gl/maps/rSVJnPZd9oE2 )وذلك للتصويت على البنود التالية : ( مرفق ) علماً بأنه طبقاً للمادة (33) من النظام الأساسي للمصرف، فإن النصاب القانوني لعقد اجتماع الجمعية العامة العادية للمصرف هو حضور مساهمين يمثلون على الأقل ما نسبته 50% من رأس المال، وفي حال عدم اكتمال النصاب في هذا الاجتماع، سيتم عقد اجتماع ثان بعد ساعة واحدة من الوقت المقرر لعقد الاجتماع الأول، ويكون الاجتماع الثاني صحيحاً أيا كان عدد الأسهم الممثلة فيه.ونوجه عناية السادة المساهمين إلى ما يلي:- طبقاً للتعليمات الإشرافية فإنه يحق لكل مساهم حضور اجتماع الجمعية العامة أو توكيل شخص آخر ينوب عنه من غير أعضاء مجلس الإدارة أو موظفي المصرف أو المكلفين بصفة دائمة بعمل فني أو إداري لحسابه لحضور الاجتماع والتصويت على القرارات المعروضة بمقتضى التوكيل (المرفق صيغته بهذه الدعوة)، على أن يتم التصديق على التوكيل من إحدى الجهات التالية: الغرف التجارية الصناعية، أو إحدى البنوك المرخصة، أو الاشخاص المرخص لهم، أو كتابة العدل، أو الاشخاص المرخص لهم بممارسة أعمال التوثيق. وتماشياً مع الانظمة الإشرافية فإن آخر موعد لتلقي نسخة التوكيلات هو يومين على الأقل تسبق موعد تاريخ انعقاد الجمعية، وعلى الوكيل إبراز أصل التوكيل قبل انعقاد الجمعية.- يود المصرف التوضيح لعموم المساهمين بأن أحقية حضور الجمعية العامة العادية والتي ستنعقد يوم الاحد 8 رجب 1439هـ الموافق 25 مارس 2018م (حسب تقويم أم القرى)، هي للمساهمين المقيدين في سجل مساهمي المصرف لدى مركز الايداع بنهاية جلسة التداول التي تسبق اجتماع الجمعية العامة بحسب الأنظمة واللوائح.- على كل مساهم يرغب في حضور الاجتماع أن يحضر معه بطاقة الهوية الخاصة به والمستندات الدالة على ملكية الأسهم وذلك للتحقق من شخصيته وإثبات عدد الأسهم التي يملكها هو أو المساهمون الذين يمثلهم، وسيتم تسجيل أسماء الحضور من المساهمين وعدد الأسهم التي يملكونها أو يمثلونها وذلك ابتداء من الساعة الخامسة والنصف من مساء يوم الاجتماع على أن ينتهي التسجيل قبل بداية الاجتماع.- بإمكان المساهمين الكرام المسجلين في موقع خدمات تداولاتي الإلكتروني التصويت عن بعد على بنود اجتماع الجمعية العامة وذلك من خلال خدمة (التصويت الإلكتروني)، علماً بأن التصويت عن بُعد يبدأ من الساعة 10 صباحاً من يوم الاربعاء 4 رجب 1439هـ الموافق 21 مارس 2018م، وسيستمر حتى الساعة الرابعة من مساء يوم عقد الجمعية، يوم الاحد 8 رجب 1439هـ الموافق 25 مارس 2018م.وعليه ندعو جميع مساهمي المصرف إلى المشاركة والتصويت عن بُعد عن طريق زيارة الموقع الإلكتروني الخاص بتداولاتي https://www.tadawulaty.com.sa علماً بأن التسجيل في خدمات تداولاتي والتصويت متاح مجاناً لجميع المساهمين. - للتواصل ولمزيد من المعلومات يمكن الاتصال بأمانة سجل المساهمين بالمصرف خلال أوقات الدوام الرسمي على الهاتف رقم 2795857-011 / 2795854-011 أو الفاكس 2795860-011 او عن طريق البريد الالكتروني shareholders@alrajhibank.com.sa</td>
      <td>Neutral</td>
      <td>حضور - اجتماع - الجمعية</td>
      <td>48.71</td>
      <td>48.71</td>
      <td>47.67</td>
      <td>48.13</td>
      <td>-0.70</td>
      <td>-1.43</td>
      <td>13194072.0</td>
      <td>6.351782e+08</td>
      <td>4021.0</td>
      <td>Banks</td>
      <td>2018-03-15 16:17:51</td>
    </tr>
    <tr>
      <th>1237</th>
      <td>البنوك</td>
      <td>مصرف الراجحي</td>
      <td>16:28:26</td>
      <td>يدعو مصرف الراجحي مساهميه إلى حضور اجتماع الجمعية العامة العادية</td>
      <td>يسر مجلس إدارة مصرف الراجحي دعوة السادة المساهمين الذين يملكون عشرين سهماً فأكثر لحضور اجتماع الجمعيـة العـــامة العادية الخامسة والعشرون والمقرر عقدها بقاعة الخزامى للاحتفالات والمؤتمرات بمركز الخزامى بالرياض ، في تمام الساعة الرابعة عصراً يوم الاربعاء 29 ذو القعدة 1435هـ الموافق 24 سبتمبر 2014م للتصويت على جدول الاعمال التالي :1- انتخاب أعضاء مجلس الإدارة للدورة القادمة التي تبدأ في 14/11/2014م لمدة ثلاث سنوات 13/11/2017. وسيكون التصويت على انتخاب الأعضاء بطريقة التصويت (العادي).ويكون اجتماع الجمعية العامة العادية صحيحاً إذا حضره مساهمون يمثلون نصف رأس مال المصرف على الأقل، ويرجى من المساهمين الذين يتعذر حضورهم في الموعد المحدد ويرغبون في توكيل غيرهم من المساهمين ممن لهم حق حضور الاجتماع (من غير أعضاء مجلس الإدارة أو موظفي الشركة أو المكلفين بالقيام بصفة دائمة بعمل فني أو إداري لحسابها) إرسال الوكالة اللازمة مصدقة من الغرفة التجارية أو من أحد البنوك أو جهة العمل، على أن يتم إرسال الوكالة إلى عناية أمانة سجل المساهمين ، فاكس رقم 0112795860 قبل ثلاثة أيام من موعد انعقاد الجمعية ، كما نرجو من المكرمين المساهمين الراغبين في الحضور (أصالة أو وكالة) أن يحضروا قبل موعد انعقاد الجمعية بساعة على الأقل مع إحضار بطاقة الهوية لإنجاز عمليات التسجيل.وللاستفسار يرجى الاتصال على شؤون المساهمين على الأرقام الآتية: 0112795857 /0112795854/0112795859كما يمكن الحصول على نموذج التوكيل بالمرفق</td>
      <td>Positive</td>
      <td>يسر - وافق - مجلس ادارة</td>
      <td>49.43</td>
      <td>49.59</td>
      <td>49.10</td>
      <td>49.32</td>
      <td>-0.11</td>
      <td>-0.22</td>
      <td>3730547.0</td>
      <td>1.842184e+08</td>
      <td>1273.0</td>
      <td>Banks</td>
      <td>2014-08-28 16:28:26</td>
    </tr>
    <tr>
      <th>1556</th>
      <td>البنوك</td>
      <td>البنك الأهلي التجاري</td>
      <td>15:12:23</td>
      <td>يدعو البنك الأهلي التجاري مساهميه إلى حضور اجتماع الجمعية العامة العادية السابعة عشر (الاجتماع الأول) (إعلان تذكيري)</td>
      <td>يدعو مجلس إدارة البنك الأهلي التجاري السادة مساهمي البنك لحضور اجتماع الجمعية العامة العادية السابعة عشر (الاجتماع الأول)، والمقرر انعقاده بمشيئة الله في تمام الساعة السابعة والنصف من مساء يوم الأحد 06-04-1439هـ الموافق 24-12-2017م (حسب تقويم أم القرى) وذلك بمقر البنك الرئيسي (مبنى الإدارة العامة) بشارع الملك عبدالعزيز - حي البلد في مدينة جدة (https://goo.gl/maps/Bm7Arhiyj722 ) وذلك للنظر في جدول الأعمال التالي.1- التصويت على سياسة المكافآت السنوية الخاصة بأعضاء مجلس الإدارة واللجان التابعة.(مرفق)2- التصويت على تحديث لائحة لجنة الترشيح والمكافآت والحوكمة.(مرفق)3- التصويت على تحديث سياسة ومعايير وإجراءات الترشيح لعضوية مجلس الإدارة.(مرفق)4- التصويت على الأعمال والعقود التي ستتم بين البنك الأهلي التجاري وشركة التعاونية للتأمين (التعاونية) والترخيص بها لعام قادم وذلك بقبول التعاقد لتقديم خدمات التأمين الطبي لموظفي البنك الأهلي التجاري لمدة عام ميلادي كامل يبدأ من 01 يناير 2018م، وبإجمالي مبلغ (143.315.122) ريال سعودي، والذي تم عن طريق المنافسة بدون شروط أو مزايا تفضيلية. ويعتبر عضو مجلس إدارة البنك سعادة المهندس عبدالعزيز بن عبدالله الزيد صاحب علاقة مباشرة حيث يشغل منصب عضو مجلس إدارة في (التعاونية)، وقد بلغت التعاملات خلال العام 2017م مبلغ وقدره (113.877.750) ريال سعودي، علماً بأن إجمالي مبلغ التعاقد لم يتجاوز نسبة 1% من إجمالي دخل عمليات البنك وفقا لآخر قوائم مالية سنوية مراجعة. (مرفق تبليغ رئيس مجلس الإدارة بالإضافة إلى تقرير المراجع الخارجي).كما نود إشعار السادة المساهمين بما يلي:- طبقاً لتعليمات الجهات الإشرافية يحق لكل مساهم حضور الجمعية العامة أو أن يوكل عنه شخص آخر من غير أعضاء مجلس الإدارة أو موظفي البنك أو المكلفين بصفة دائمة بعمل فني أو إداري لحسابه لحضور اجتماع الجمعية العامة والتصويت على القرارات المعروضة بمقتضى التوكيل (المرفق صيغته مع هذه الدعوة) على أن يتم التصديق على التوكيل من إحدى الجهات التالية: الغرف التجارية الصناعية، أو إحدى البنوك المرخصة، أو الأشخاص المرخص لهم، أو كتابة العدل، أو الأشخاص المرخص لهم بأعمال التوثيق. وتمشياً مع الأنظمة الإشرافية فإن آخر موعد لتلقي نسخة التوكيلات هو قبل يومين على الأقل من موعد تاريخ انعقاد الجمعية، وعلى الوكيل إبراز أصل التوكيل قبل انعقاد الجمعية.- أحقية حضور الجمعية العامة العادية للمساهمين المقيدين في سجل مساهمي البنك لدى مركز الإيداع بنهاية جلسة التداول التي تسبق اجتماع الجمعية العامة وبحسب الأنظمة واللوائح.- طبقاً للمادة الثانية والثلاثون من النظام الأساسي للبنك يكون انعقاد الجمعية العامة العادية (الاجتماع الأول) صحيحاً إذا حضره مساهمون يمثلون نصف رأس المال على الأقل، علماً بأن في حال عدم اكتمال النصاب القانوني لانعقاد (الاجتماع الأول) فإنه سوف يتم انعقاد (الاجتماع الثاني) بعد ساعة واحدة من الوقت المقرر لعقد الاجتماع الأول، ويكون (الاجتماع الثاني) صحيحا أيا كان عدد الأسهم الممثلة فيه.- يرجى من السادة المساهمين الراغبين في توكيل أشخاص آخرين للحضور والتصويت نيابة عنهم في اجتماع الجمعية العامة، إرسال نسخة من التوكيل بعد المصادقة عليه إلى مقر الإدارة العامة بجدة الطابق (24) عناية شؤون المساهمين، وذلك قبل موعد انعقاد الجمعية بيومين على الأقل.- يرجى من السادة المساهمين و/أو موكليهم الكرام التكرم بالحضور قبل موعد الاجتماع بساعة على الأقل وذلك لإنهاء إجراءات تسجيلهم، مع ضرورة إحضار أصل نموذج التوكيل للمُوَكَّلين بالإضافة إلى أصل إثبات هويتهم الشخصية وفقاً لما ورد في نموذج التوكيل.- بإمكان المساهمين الكرام المسجلين في موقع خدمات تداولاتي الإلكتروني التصويت عن بعد على بنود اجتماع الجمعية العامة وذلك من خلال خدمة (التصويت الإلكتروني)، علماً بأن التصويت عن بُعد يبدأ من الساعة العاشرة من صباح يوم الأحد 29-03-1439هـ الموافق 17-12-2017م ، وسيستمر حتى الساعة الرابعة من مساء يوم عقد الجمعية الأحد 06-04-1439هـ الموافق 24-12-2017م، عليه ندعو جميع مساهمي البنك إلى المشاركة والتصويت عن بُعد عن طريق زيارة الموقع الإلكتروني الخاص بتداولاتي https://www.tadawulaty.com.sa علماً بأن التسجيل في خدمات تداولاتي والتصويت متاح مجاناً لجميع المساهمين.لمزيد من المعلومات يمكن الاتصال بشؤون المساهمين في البنك وذلك خلال أوقات الدوام الرسمي على:هاتف 4000 646 012 أو الفاكس 4466 646 012 أو عن طريق البريد الإلكتروني ShareholdersAffairs@alahli.com.والله ولي التوفيقمجلس الإدارة</td>
      <td>Neutral</td>
      <td>جمعية-عامة-تصويت</td>
      <td>33.75</td>
      <td>34.25</td>
      <td>33.75</td>
      <td>33.97</td>
      <td>-0.07</td>
      <td>-0.21</td>
      <td>370001.0</td>
      <td>1.256159e+07</td>
      <td>212.0</td>
      <td>Banks</td>
      <td>2017-12-20 15:12:23</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>32821</th>
      <td>التأمين</td>
      <td>شركة بروج للتأمين التعاوني</td>
      <td>15:51:03</td>
      <td>تدعو شركة بروج للتأمين التعاوني مساهميها إلى حضور اجتماع الجمعية العامة غير العادية المتضمنة زيادة رأس مال الشركة.</td>
      <td>يدعو مجلس إدارة شركة بروج للتأمين التعاوني السادة المساهمين الذين يملكون 20 سهم فأكثر لحضور اجتماع الجمعية العامة (الاجتماع الاول) المقرر عقده بمشيئة الله تعالى في فندق الماريوت بالرياض في تمام الساعة (04:00) الرابعة مساء بتاريخ 1436-03-29هـ الموافق 20-01-2015م وذلك لمناقشة جدول الأعمال التالي: 1. الموافقة على زيادة رأس مال الشركة عن طريق طرح أسهم حقوق أولوية بقيمة (120.000.000) مئة وعشرون مليون ريال سعودي وذلك وفق التفصيل والألية الواردة في نشرة الإصدار الموافق عليها من هيئة سوق المال والتي سيتم نشرها في وقت لاحق وقبل الجمعية بوقت كاف. 2. الموافقة على تعديل المادة السابعة (7) من النظام الأساسي للشركة بما يتناسب مع زيادة رأس المال. 3. الموافقة على تعديل المادة الثامنة (8) من النظام الأساسي للشركة بما يتناسب مع زيادة رأس المال. تهدف الشركة من زيادة رأس المال إلى تعزيز هامش الملاءة المالية ودعم نمو النشاط المستقبلي للشركة. تقتصر الزيادة على ملاك الأسهم المقيدين في نهاية تداول يوم انعقاد الجمعية العامة غير العادية التي تقرر زيادة رأس المال.علما بأنه يشترط لصحة انعقاد هذه الجمعية حضور عدد من المساهمين يمثل 50% من رأس المال، ولكل مساهم يملك 20 سهم حق الحضور لاجتماع الجمعية العامة غير العادية، ويرجى من المساهمين الذين يتعذر حضورهم في الموعد المحدد ويرغبون في توكيل غيرهم من المساهمين ممن لهم حق حضور الاجتماع (من غير أعضاء مجلس الإدارة وموظفي الشركة) إرسال التوكيلات اللازمة مصدقة من الغرفة التجارية أو من أحد البنوك أو جهة العمل، وإرساله على العنوان التالي ص.ب. 51855 الرياض 11553 هاتف 2938383-011 فاكس 2172350-011 أو على البريد الإلكتروني invest@burujinsurance.com وذلك قبل موعد الاجتماع بثلاثة أيام على الأقل مع ضرورة إحضار المساهمين للاجتماع (أصالة او وكالة) بطاقاتهم الشخصية.</td>
      <td>Positive</td>
      <td>زيادة - رأس - المال</td>
      <td>23.33</td>
      <td>23.42</td>
      <td>23.08</td>
      <td>23.08</td>
      <td>-0.17</td>
      <td>-0.73</td>
      <td>339727.0</td>
      <td>7.881207e+06</td>
      <td>333.0</td>
      <td>Insurance</td>
      <td>2014-12-07 15:51:03</td>
    </tr>
    <tr>
      <th>32843</th>
      <td>التأمين</td>
      <td>شركة بروج للتأمين التعاوني</td>
      <td>16:04:04</td>
      <td>تعلن شركة بروج للتأمين التعاوني عن أخر التطورات بخصوص توصية مجلس الإدارة بزيادة رأس مال الشركة عن طريق طرح أسهم حقوق أولوية</td>
      <td>إشارة الى إعلان الشركة بتاريخ 15/10/2012م الخاص بتوصية مجلس الإدارة بزيادة رأس مال الشركة عن طريق طرح أسهم حقوق أولوية بقيمة 120 مليون ريال سعودي ، تود الشركة إبلاغ مساهميها الكرام بأنه لم يطرأ أي جديد حول هذا الموضوع وأن الشركة ما زالت تراجع طلب زيادة راس المال مع مؤسسة النقد العربي السعودي وسوف تقوم الشركة بالإعلان عن أية مستجدات فور ورودها.</td>
      <td>Positive</td>
      <td>زيادة - رأس - المال</td>
      <td>23.17</td>
      <td>23.25</td>
      <td>22.92</td>
      <td>23.13</td>
      <td>-0.10</td>
      <td>-0.43</td>
      <td>685141.0</td>
      <td>1.584514e+07</td>
      <td>512.0</td>
      <td>Insurance</td>
      <td>2014-02-17 16:04:04</td>
    </tr>
    <tr>
      <th>33936</th>
      <td>التأمين</td>
      <td>شركة عناية السعودية للتأمين التعاوني</td>
      <td>08:26:47</td>
      <td>إعلان شركة عناية السعودية للتأمين التعاوني عن آخر يوم لتداول حقوق الأولية وآخر يوم للاكتتاب في الأسهم الجديدة (إعلان تذكيري)</td>
      <td>بند توضيح مقدمة تعلن شركة عناية السعودية للتأمين التعاوني عن آخر يوم لتداول حقوق الأولوية وآخر يوم للاكتتاب في الأسهم الجديدة تاريخ نهاية فترة تداول الحقوق  1440-04-17 الموافق 2018-12-24 تاريخ نهاية مرحلة الاكتتاب  1440-04-20 الموافق 2018-12-27</td>
      <td>Neutral</td>
      <td>مرحلة - الاكتتاب</td>
      <td>46.52</td>
      <td>50.00</td>
      <td>44.00</td>
      <td>46.40</td>
      <td>0.40</td>
      <td>0.87</td>
      <td>1204685.0</td>
      <td>5.684938e+07</td>
      <td>3581.0</td>
      <td>Insurance</td>
      <td>2018-12-24 08:26:47</td>
    </tr>
    <tr>
      <th>34194</th>
      <td>التأمين</td>
      <td>شركة الإنماء طوكيو مارين</td>
      <td>15:28:00</td>
      <td>تدعو شركة الإنماء طوكيو مارين مساهميها إلى حضور اجتماع الجمعية العامة العادية - الاجتماع الاول ( إعلان تذكيري )</td>
      <td>يدعو مجلس إدارة شركة الإنماء طوكيو مارين السادة المساهمين الذين يملكون 20 سهم فأكثر لحضور اجتماع الجمعية العامة العادية المقرر عقده بمشيئة الله تعالى في فندق النوفيتيل ، برج العنود 1 ، طريق الملك فهد بمدينة الرياض في تمام الساعة 16:00 بتاريخ 11-08-1437 الموافق 18-05-2016 وذلك لمناقشة جدول الأعمال التالي:  1-التصويت على ما ورد في تقرير مجلس الإدارة للعام المالي المنتهي في 31/12/2015م.2- التصويت على تقرير مراقب الحسابات للسنة المالية المنتهية في 31/12/2015م.3-التصويت على القوائم المالية للعام المالي المنتهي في 31/12/2015م .4- التصويت على إبراء ذمة أعضاء مجلس الإدارة عن أدائهم خلال العام المالي المنتهي في 31/12/2015م.5- التصويت على إختيار مدققي الحسابات بناء على توصية لجنة المراجعة لمراجعة حسابات الشركة للسنة المالية 2016 وتحديد أتعابهم .6- التصويت على صرف مبلغ (1.020.000) ريال كمكافأة لأعضاء مجلس الإدارة عن العام 2015م وفقاً لأحكام المادة (17) من النظام الأساس للشركة وذلك بواقع (180.000) ريال لرئيس المجلس و(120.000) ريال لكل عضو.7-التصويت على إعتماد لائحة حوكمة الشركة المحدثة . 8-التصويت على الأعمال والعقود التي تمت بين الشركة والأطراف ذات العلاقة كالتالي:1- المعاملات مع مصرف الإنماء خلال العام المالي المنتهي في 31/12/2015م :أ-إصدار وثائق التأمين للبنك بإجمالي أقساط 23.986 الف ريال سعودي ومطالبات مدفوعة بقيمة 11.585 ألف ريال سعودي. علما بأن السيد عبدالمحسن بن عبدالعزيز الفارس والسيد فهد محمد السماري يمثلان مصرف الإنماء في مجلس الإدارة بشركة الإنماء طوكيو مارين ، وتؤكد الشركة أن المعاملات لم تمنح أي مزايا تفضيلية .2- المعاملات مع شركة طوكيو مارين ونيشودو فير خلال العام المالي المنتهي في 31/12/2015م :أ.دفع أقساط إعادة تأمين (الاختيارية والمعاهدة) 3.134 الف ريال سعودي وتحصيل عمولة إعادة التأمين من 554 ألف ريال سعودي. علما بأن السيد هيساتوا حمادا والسيد كين كامكوشي يمثلان شركة طوكيو مارين ونيشودو فير للتأمين في مجلس الإدارة بشركة الإنماء طوكيو مارين ، وتؤكد الشركة أن المعاملات لم تمنح أي مزايا تفضيلية.3- المعاملات مع شركة حسين العويني خلال العام المالي المنتهي في 31/12/2015م :أ. نفقات عامة وإدارية بإجمالي 1.303 ألف ريال. علما بأنه يشترط لصحة انعقاد هذه الجمعية حضور عدد من المساهمين يمثل 50% من رأس المال، ولكل مساهم يملك 20 سهم حق الحضور لاجتماع الجمعية العامة، ويرجى من المساهمين الذين يتعذر حضورهم في الموعد المحدد ويرغبون في توكيل غيرهم من المساهمين ممن لهم حق حضور الاجتماع (من غير أعضاء مجلس الإدارة وموظفي الشركة) إرسال التوكيلات اللازمة مصدقة من الغرفة التجارية أو من أحد البنوك أو جهة العمل، وإرساله على العنوان التالي شركة الإنماء طوكيو مارين الدور 21 برج العنود 2 طريق الملك فهد ص.ب. 643 الرياض 11421 وذلك قبل موعد الاجتماع بثلاثة أيام على الأقل مع ضرورة إحضار المساهمين للاجتماع (أصالة او وكالة) بطاقاتهم الشخصية، وللاستفسار يرجى الاتصال 966112129369+</td>
      <td>Positive</td>
      <td>وافق - مجلس ادارة</td>
      <td>30.60</td>
      <td>33.00</td>
      <td>30.60</td>
      <td>31.78</td>
      <td>1.35</td>
      <td>4.44</td>
      <td>5562833.0</td>
      <td>1.776973e+08</td>
      <td>4990.0</td>
      <td>Insurance</td>
      <td>2016-05-15 15:28:00</td>
    </tr>
    <tr>
      <th>34358</th>
      <td>الرعاية الصحية</td>
      <td>شركة المواساة للخدمات الطبية</td>
      <td>12:15:31</td>
      <td>تدعو شركة المواساة للخدمات الطبية مساهميها الكرام إلى حضور إجتماع الجمعية العامة العادية السابعة (إعلان تذكيري) (تتمة)</td>
      <td>ويرجى من المساهمين الذين يتعذر حضورهم في الموعد المحدد ويرغبون في توكيل غيرهم من المساهمين ممن لهم حق حضور الإجتماع (من غير أعضاء مجلس الإدارة وموظفي الشركة) إرسال التوكيلات اللازمة مصدقة من الغرفة التجارية أو من أحد البنوك أو من جهة العمل، وإذا كانت جهة العمل قطاع خاص فيتعين تصديق توقيع المسؤول من الغرفة التجارية وإرساله بالبريد المسجل على العنوان (ص . ب 7011 الدمام 31462) وذلك قبل موعد الإجتماع بثلاثة أيام على الأقل، مع ضرورة إحضار المساهمين للإجتماع (أصالة او وكالة) بطاقاتهم الشخصية .  وللإستفسار يرجى الاتصال على الرقم (8200016-03)</td>
      <td>Neutral</td>
      <td>حضور - اجتماع</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Healthcare</td>
      <td>2013-03-29 12:15:31</td>
    </tr>
  </tbody>
</table>
<p>265 rows × 18 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>On close examination of the duplicated rows, it turned out they're not fully duplicated. So we'll leave them as is</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Storing-the-Clean-Data-for-Later-Use">
<a class="anchor" href="#Storing-the-Clean-Data-for-Later-Use" aria-hidden="true"><span class="octicon octicon-link"></span></a>Storing the Clean Data for Later Use<a class="anchor-link" href="#Storing-the-Clean-Data-for-Later-Use"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">'data/clean_data.csv'</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">reset</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df1</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Sector</th>
      <th>Company Name</th>
      <th>Time</th>
      <th>News Title</th>
      <th>News Details</th>
      <th>Polarity</th>
      <th>Polarity Words</th>
      <th>Oppening</th>
      <th>The Highest</th>
      <th>The Lowest</th>
      <th>Closing</th>
      <th>Changing</th>
      <th>Changing%</th>
      <th>The Quantity Handled</th>
      <th>Total Current Value (SAR)</th>
      <th>Number of Deals</th>
      <th>Sector_en</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>البنوك</td>
      <td>بنك الجزيرة</td>
      <td>12:07:52</td>
      <td>يعلن بنك الجزيرة عن توصية مجلس إدارته توزيع أر...</td>
      <td>يعلن بنك الجزيرة عن توصية مجلس إدارته توزيع أر...</td>
      <td>Positive</td>
      <td>ارباح سنوية - توزيع أرباح</td>
      <td>9.07</td>
      <td>9.12</td>
      <td>8.93</td>
      <td>8.96</td>
      <td>0.11</td>
      <td>1.24</td>
      <td>1961798.0</td>
      <td>17729676.1</td>
      <td>514.0</td>
      <td>Banks</td>
      <td>2011-12-31 12:07:52</td>
    </tr>
    <tr>
      <th>1</th>
      <td>البنوك</td>
      <td>البنك السعودي الفرنسي</td>
      <td>15:22:03</td>
      <td>يعلن البنك السعودي الفرنسي عن توصية مجلس الإدا...</td>
      <td>بند توضيح  مقدمة يعلن البنك السعودي الفرنسي ع...</td>
      <td>Positive</td>
      <td>توزيع - ارباح</td>
      <td>37.30</td>
      <td>38.20</td>
      <td>37.30</td>
      <td>37.55</td>
      <td>0.30</td>
      <td>0.81</td>
      <td>555205.0</td>
      <td>20956971.9</td>
      <td>634.0</td>
      <td>Banks</td>
      <td>2019-12-30 15:22:03</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Descriptive-Statistics">
<a class="anchor" href="#Descriptive-Statistics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Descriptive Statistics<a class="anchor-link" href="#Descriptive-Statistics"> </a>
</h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cats</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Sector'</span><span class="p">,</span> <span class="s1">'Company Name'</span><span class="p">,</span> <span class="s1">'Polarity'</span><span class="p">]</span>
<span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Oppening'</span><span class="p">,</span> <span class="s1">'The Highest'</span><span class="p">,</span> <span class="s1">'The Lowest'</span><span class="p">,</span> <span class="s1">'Closing'</span><span class="p">,</span> <span class="s1">'Changing'</span><span class="p">,</span> <span class="s1">'Changing%'</span><span class="p">,</span> 
        <span class="s1">'The Quantity Handled'</span><span class="p">,</span> <span class="s1">'Total Current Value (SAR)'</span><span class="p">,</span> <span class="s1">'Number of Deals'</span><span class="p">]</span>

<span class="n">texts</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'News Title'</span><span class="p">,</span> <span class="s1">'News Details'</span><span class="p">,</span> <span class="s1">'Polarity Words'</span><span class="p">]</span>

<span class="n">date</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Date'</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Numerical-Variables-Statistics">
<a class="anchor" href="#Numerical-Variables-Statistics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Numerical Variables Statistics<a class="anchor-link" href="#Numerical-Variables-Statistics"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Note:</strong> The huge numbers in the column <code>Total Current Value</code> is due to the huge amount itself. it's not an approximation</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">nums</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Oppening</th>
      <th>The Highest</th>
      <th>The Lowest</th>
      <th>Closing</th>
      <th>Changing</th>
      <th>Changing%</th>
      <th>The Quantity Handled</th>
      <th>Total Current Value (SAR)</th>
      <th>Number of Deals</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>29993.00</td>
      <td>29993.00</td>
      <td>29993.00</td>
      <td>29993.00</td>
      <td>29993.00</td>
      <td>29993.00</td>
      <td>2.999300e+04</td>
      <td>2.999300e+04</td>
      <td>29993.00</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>35.32</td>
      <td>35.89</td>
      <td>34.81</td>
      <td>36.02</td>
      <td>-0.01</td>
      <td>0.04</td>
      <td>1.513561e+06</td>
      <td>3.842513e+07</td>
      <td>915.77</td>
    </tr>
    <tr>
      <th>std</th>
      <td>39.36</td>
      <td>40.04</td>
      <td>38.70</td>
      <td>38.91</td>
      <td>1.90</td>
      <td>4.34</td>
      <td>6.332587e+06</td>
      <td>1.705804e+08</td>
      <td>5485.46</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>-67.50</td>
      <td>-100.00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>15.90</td>
      <td>16.14</td>
      <td>15.70</td>
      <td>16.46</td>
      <td>-0.26</td>
      <td>-0.98</td>
      <td>1.672130e+05</td>
      <td>4.812069e+06</td>
      <td>211.00</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>25.25</td>
      <td>25.65</td>
      <td>24.90</td>
      <td>25.50</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>4.767520e+05</td>
      <td>1.371646e+07</td>
      <td>457.00</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>42.50</td>
      <td>43.20</td>
      <td>41.90</td>
      <td>42.92</td>
      <td>0.25</td>
      <td>0.98</td>
      <td>1.250305e+06</td>
      <td>3.415810e+07</td>
      <td>973.00</td>
    </tr>
    <tr>
      <th>max</th>
      <td>686.27</td>
      <td>692.81</td>
      <td>663.40</td>
      <td>683.01</td>
      <td>95.00</td>
      <td>351.85</td>
      <td>4.179278e+08</td>
      <td>1.586582e+10</td>
      <td>540248.00</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">describe_cat</span><span class="p">(</span><span class="n">cat_var</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">cat_var</span> <span class="o">==</span> <span class="s1">'Date'</span><span class="p">:</span>
        <span class="n">col</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">cat_var</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">col</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">cat_var</span><span class="p">]</span>
        
    <span class="n">unique</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
    <span class="n">top_counts</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">top_counts_str</span> <span class="o">=</span> <span class="s2">"، "</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">level</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s1">'</span> <span class="k">for</span> <span class="n">level</span><span class="p">,</span><span class="n">count</span> <span class="ow">in</span> <span class="n">top_counts</span><span class="o">.</span><span class="n">values</span><span class="p">])</span>
    
    <span class="n">summary</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">({</span><span class="s1">'Variable'</span><span class="p">:</span> <span class="n">cat_var</span><span class="p">,</span> <span class="s1">'Unique'</span><span class="p">:</span> <span class="n">unique</span><span class="p">,</span> <span class="s1">'Top Counts'</span><span class="p">:</span> <span class="n">top_counts_str</span><span class="p">})</span>
    
    <span class="k">return</span> <span class="n">summary</span>
    
    
<span class="k">def</span> <span class="nf">describe_cats</span><span class="p">(</span><span class="n">cat_vars</span><span class="p">):</span>
    <span class="n">summary</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'Variable'</span><span class="p">,</span> <span class="s1">'Unique'</span><span class="p">,</span> <span class="s1">'Top Counts'</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cat_vars</span><span class="p">)))</span>
    
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">cat</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cat_vars</span><span class="p">):</span>
        <span class="n">summary</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">describe_cat</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span>
    
    <span class="n">summary</span><span class="p">[</span><span class="s1">'Unique'</span><span class="p">]</span> <span class="o">=</span> <span class="n">summary</span><span class="p">[</span><span class="s1">'Unique'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">'int'</span><span class="p">)</span>
        
    <span class="k">return</span> <span class="n">summary</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">describe_cat</span><span class="p">(</span><span class="s1">'Date'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Variable                                                                                   Date
Unique                                                                                     2282
Top Counts    2013-04-20: 108، 2011-01-19: 101، 2012-07-18: 101، 2012-01-21: 99، 2013-01-21: 91
dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">print_full</span><span class="p">(</span><span class="n">describe_cats</span><span class="p">(</span><span class="n">cats</span><span class="o">+</span><span class="n">date</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Variable</th>
      <th>Unique</th>
      <th>Top Counts</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Sector</td>
      <td>22</td>
      <td>التأمين: 6753، المواد الأساسية: 6216، السلع الرأسمالية: 2595، إنتاج الأغذية: 2126، إدارة وتطوير العقارات: 1728</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Company Name</td>
      <td>206</td>
      <td>شركة أبناء عبدالله عبدالمحسن الخضري: 450، شركة إتحاد عذيب للإتصالات: 331، شركة الباحة للإستثمار والتنمية: 316، الشركة السعودية الهندية للتأمين التعاوني: 300، شركة طيبة للإستثمار: 283</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Polarity</td>
      <td>3</td>
      <td>Positive: 15509، Neutral: 11483، Negative: 3106</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Date</td>
      <td>2282</td>
      <td>2013-04-20: 108، 2011-01-19: 101، 2012-07-18: 101، 2012-01-21: 99، 2013-01-21: 91</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">reset</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Exploratory-Data-Analysis">
<a class="anchor" href="#Exploratory-Data-Analysis" aria-hidden="true"><span class="octicon octicon-link"></span></a>Exploratory Data Analysis<a class="anchor-link" href="#Exploratory-Data-Analysis"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Exploring-Singe-Categorical-Variables">
<a class="anchor" href="#Exploring-Singe-Categorical-Variables" aria-hidden="true"><span class="octicon octicon-link"></span></a>Exploring Singe Categorical Variables<a class="anchor-link" href="#Exploring-Singe-Categorical-Variables"> </a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="The-Polarity">
<a class="anchor" href="#The-Polarity" aria-hidden="true"><span class="octicon octicon-link"></span></a>The Polarity<a class="anchor-link" href="#The-Polarity"> </a>
</h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pie_fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'Polarity'</span><span class="p">]</span>
             <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
             <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
             <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">px</span><span class="o">.</span><span class="n">pie</span><span class="p">,</span>
                   <span class="n">values</span><span class="o">=</span><span class="s1">'Polarity'</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">'index'</span><span class="p">,</span>
                   <span class="n">title</span><span class="o">=</span><span class="s1">'Polarity Distribution'</span><span class="p">,</span>
                   <span class="n">color</span><span class="o">=</span><span class="s1">'Polarity'</span><span class="p">,</span>
                   <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">sequential</span><span class="o">.</span><span class="n">GnBu_r</span><span class="p">,</span>
                   <span class="n">hole</span><span class="o">=</span><span class="mf">0.1</span><span class="p">))</span>


<span class="n">pie_fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">textinfo</span><span class="o">=</span><span class="s1">'percent+label+value'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<div>
        
        
            <div id="0f83b6a7-cbba-4770-b0b1-59d26edf9f71" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};
                    
                if (document.getElementById("0f83b6a7-cbba-4770-b0b1-59d26edf9f71")) {
                    Plotly.newPlot(
                        '0f83b6a7-cbba-4770-b0b1-59d26edf9f71',
                        [{"customdata": [[15509], [11483], [3106]], "domain": {"x": [0.0, 1.0], "y": [0.0, 1.0]}, "hole": 0.1, "hovertemplate": "index=%{label}<br>Polarity=%{customdata[0]}<extra></extra>", "labels": ["Positive", "Neutral", "Negative"], "legendgroup": "", "marker": {"colors": ["rgb(8,64,129)", "rgb(8,104,172)", "rgb(43,140,190)"]}, "name": "", "showlegend": true, "textinfo": "percent+label+value", "type": "pie", "values": [15509, 11483, 3106]}],
                        {"legend": {"tracegroupgap": 0}, "piecolorway": ["rgb(8,64,129)", "rgb(8,104,172)", "rgb(43,140,190)", "rgb(78,179,211)", "rgb(123,204,196)", "rgb(168,221,181)", "rgb(204,235,197)", "rgb(224,243,219)", "rgb(247,252,240)"], "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "white", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "white", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "#C8D4E3", "linecolor": "#C8D4E3", "minorgridcolor": "#C8D4E3", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "#C8D4E3", "linecolor": "#C8D4E3", "minorgridcolor": "#C8D4E3", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "white", "showlakes": true, "showland": true, "subunitcolor": "#C8D4E3"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "white", "polar": {"angularaxis": {"gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": ""}, "bgcolor": "white", "radialaxis": {"gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}, "yaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}, "zaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}, "baxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}, "bgcolor": "white", "caxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "#EBF0F8", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "#EBF0F8", "zerolinewidth": 2}}}, "title": {"text": "Polarity Distribution"}},
                        {"responsive": true}
                    ).then(function(){
                            
var gd = document.getElementById('0f83b6a7-cbba-4770-b0b1-59d26edf9f71');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'Polarity'</span><span class="p">]</span>
 <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
 <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
 <span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">'pie'</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="s1">'index'</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">'Polarity'</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">hole</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">pull</span><span class="o">=</span><span class="mf">0.005</span><span class="p">,</span>
        <span class="n">textinfo</span><span class="o">=</span><span class="s1">'value+percent+label'</span><span class="p">,</span>
        <span class="n">colorscale</span><span class="o">=</span><span class="s1">'-gnbu'</span><span class="p">,</span> <span class="n">textcolor</span><span class="o">=</span><span class="s1">'black'</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">'Polarity Distribution'</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<div>
        
        
            <div id="53890bdc-3365-4506-b41c-1133eaaf53d2" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};
                    window.PLOTLYENV.BASE_URL='https://plotly.com';
                    
                if (document.getElementById("53890bdc-3365-4506-b41c-1133eaaf53d2")) {
                    Plotly.newPlot(
                        '53890bdc-3365-4506-b41c-1133eaaf53d2',
                        [{"hole": 0.1, "labels": ["Positive", "Neutral", "Negative"], "marker": {"colors": ["rgba(67, 162, 202, 1.0)", "rgba(168, 221, 181, 1.0)", "rgba(224, 243, 219, 1.0)"]}, "name": "", "pull": 0.005, "sort": true, "textfont": {"color": "black"}, "textinfo": "value+percent+label", "type": "pie", "values": [15509, 11483, 3106]}],
                        {"legend": {"bgcolor": "#FFFFFF", "font": {"color": "#4D5663"}}, "paper_bgcolor": "#FFFFFF", "plot_bgcolor": "#FFFFFF", "showlegend": false, "title": "Polarity Distribution", "titlefont": {"color": "#4D5663"}},
                        {"showLink": true, "linkText": "Export to plotly.com", "plotlyServerURL": "https://plotly.com", "responsive": true}
                    ).then(function(){
                            
var gd = document.getElementById('53890bdc-3365-4506-b41c-1133eaaf53d2');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Most-Featured-Sectors">
<a class="anchor" href="#Most-Featured-Sectors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Most Featured Sectors<a class="anchor-link" href="#Most-Featured-Sectors"> </a>
</h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_most</span> <span class="o">=</span> <span class="mi">10</span>

<span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'Sector_en'</span><span class="p">]</span>
 <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
 <span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_most</span><span class="p">)</span>
 <span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">'bar'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'orange'</span><span class="p">,</span> <span class="n">colorscale</span><span class="o">=</span><span class="s1">'rdylbu'</span><span class="p">,</span><span class="n">yTitle</span><span class="o">=</span><span class="s1">'# of News Articles'</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">'Most </span><span class="si">{</span><span class="n">n_most</span><span class="si">}</span><span class="s1"> Featured Sectors'</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<div>
        
        
            <div id="3fe3af73-f543-4eed-9ea0-22a02aa4da6f" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};
                    window.PLOTLYENV.BASE_URL='https://plotly.com';
                    
                if (document.getElementById("3fe3af73-f543-4eed-9ea0-22a02aa4da6f")) {
                    Plotly.newPlot(
                        '3fe3af73-f543-4eed-9ea0-22a02aa4da6f',
                        [{"marker": {"color": "rgba(255, 153, 51, 0.6)", "line": {"color": "rgba(255, 153, 51, 1.0)", "width": 1}}, "name": "Sector_en", "orientation": "v", "text": "", "type": "bar", "x": ["Insurance", "Basic Materials", "Capital Goods", "Food Production", "Real Estate M & D", "Banks", "Retail Of Luxury Goods", "Telecommunications", "Consumer Services", "Transport"], "y": [6753, 6216, 2595, 2126, 1728, 1252, 1035, 1001, 987, 910]}],
                        {"legend": {"bgcolor": "#FFFFFF", "font": {"color": "#4D5663"}}, "paper_bgcolor": "#FFFFFF", "plot_bgcolor": "#FFFFFF", "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "white", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "white", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "#C8D4E3", "linecolor": "#C8D4E3", "minorgridcolor": "#C8D4E3", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "#C8D4E3", "linecolor": "#C8D4E3", "minorgridcolor": "#C8D4E3", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "white", "showlakes": true, "showland": true, "subunitcolor": "#C8D4E3"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "white", "polar": {"angularaxis": {"gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": ""}, "bgcolor": "white", "radialaxis": {"gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}, "yaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}, "zaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}, "baxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}, "bgcolor": "white", "caxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "#EBF0F8", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "#EBF0F8", "zerolinewidth": 2}}}, "title": {"font": {"color": "#4D5663"}, "text": "Most 10 Featured Sectors"}, "xaxis": {"gridcolor": "#E1E5ED", "showgrid": true, "tickfont": {"color": "#4D5663"}, "title": {"font": {"color": "#4D5663"}, "text": ""}, "zerolinecolor": "#E1E5ED"}, "yaxis": {"gridcolor": "#E1E5ED", "showgrid": true, "tickfont": {"color": "#4D5663"}, "title": {"font": {"color": "#4D5663"}, "text": "# of News Articles"}, "zerolinecolor": "#E1E5ED"}},
                        {"showLink": true, "linkText": "Export to plotly.com", "plotlyServerURL": "https://plotly.com", "responsive": true}
                    ).then(function(){
                            
var gd = document.getElementById('3fe3af73-f543-4eed-9ea0-22a02aa4da6f');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">df</span>
 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'Sector_en'</span><span class="p">)</span>
 <span class="o">.</span><span class="n">size</span><span class="p">()</span>
 <span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'Count'</span><span class="p">)</span>
 <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">'Count'</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_most</span><span class="p">)</span>
 <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">,</span>
       <span class="n">x</span><span class="o">=</span><span class="s1">'Sector_en'</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">'Count'</span><span class="p">,</span> 
<span class="c1">#        color='Count',</span>
<span class="c1">#        color_continuous_scale=px.colors.sequential.GnBu,</span>
<span class="c1">#        color_continuous_scale=px.colors.sequential.Blues,</span>
<span class="c1">#        color_continuous_scale=px.colors.sequential.Plasma_r,</span>
       <span class="n">text</span><span class="o">=</span><span class="s1">'Count'</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">'Most Featured Sectors'</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">'Count'</span><span class="p">:</span> <span class="s1">'No. Articles'</span><span class="p">,</span> <span class="s1">'Sector_en'</span><span class="p">:</span><span class="s1">'Sector'</span><span class="p">}))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<div>
        
        
            <div id="c9a0dc25-0da0-4de0-a4f1-b36ec0def54b" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};
                    
                if (document.getElementById("c9a0dc25-0da0-4de0-a4f1-b36ec0def54b")) {
                    Plotly.newPlot(
                        'c9a0dc25-0da0-4de0-a4f1-b36ec0def54b',
                        [{"alignmentgroup": "True", "hovertemplate": "Sector=%{x}<br>No. Articles=%{text}<extra></extra>", "legendgroup": "", "marker": {"color": "#636efa"}, "name": "", "offsetgroup": "", "orientation": "v", "showlegend": false, "text": [6753.0, 6216.0, 2595.0, 2126.0, 1728.0, 1252.0, 1035.0, 1001.0, 987.0, 910.0], "textposition": "auto", "type": "bar", "x": ["Insurance", "Basic Materials", "Capital Goods", "Food Production", "Real Estate M & D", "Banks", "Retail Of Luxury Goods", "Telecommunications", "Consumer Services", "Transport"], "xaxis": "x", "y": [6753, 6216, 2595, 2126, 1728, 1252, 1035, 1001, 987, 910], "yaxis": "y"}],
                        {"barmode": "relative", "legend": {"tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "white", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "white", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "#C8D4E3", "linecolor": "#C8D4E3", "minorgridcolor": "#C8D4E3", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "#C8D4E3", "linecolor": "#C8D4E3", "minorgridcolor": "#C8D4E3", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "white", "showlakes": true, "showland": true, "subunitcolor": "#C8D4E3"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "white", "polar": {"angularaxis": {"gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": ""}, "bgcolor": "white", "radialaxis": {"gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}, "yaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}, "zaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}, "baxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}, "bgcolor": "white", "caxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "#EBF0F8", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "#EBF0F8", "zerolinewidth": 2}}}, "title": {"text": "Most Featured Sectors"}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "Sector"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "No. Articles"}}},
                        {"responsive": true}
                    ).then(function(){
                            
var gd = document.getElementById('c9a0dc25-0da0-4de0-a4f1-b36ec0def54b');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">featured_sectors</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'Sector_en'</span><span class="p">]</span>
                     <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
                     <span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_most</span><span class="p">)</span>
                     <span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
<span class="n">featured_sectors</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>['Insurance',
 'Basic Materials',
 'Capital Goods',
 'Food Production',
 'Real Estate M &amp; D',
 'Banks',
 'Retail Of Luxury Goods',
 'Telecommunications',
 'Consumer Services',
 'Transport']</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Most-Featured-Companies">
<a class="anchor" href="#Most-Featured-Companies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Most Featured Companies<a class="anchor-link" href="#Most-Featured-Companies"> </a>
</h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_most</span> <span class="o">=</span> <span class="mi">10</span>

<span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'Company Name'</span><span class="p">]</span>
 <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
 <span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_most</span><span class="p">)</span>
 <span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">'bar'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'navy'</span><span class="p">,</span> <span class="n">yTitle</span><span class="o">=</span><span class="s1">'# of News Articles'</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">'Most </span><span class="si">{</span><span class="n">n_most</span><span class="si">}</span><span class="s1"> Featured Companies'</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<div>
        
        
            <div id="b6afdb65-a936-43a6-ac60-0329c2426f0e" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};
                    window.PLOTLYENV.BASE_URL='https://plotly.com';
                    
                if (document.getElementById("b6afdb65-a936-43a6-ac60-0329c2426f0e")) {
                    Plotly.newPlot(
                        'b6afdb65-a936-43a6-ac60-0329c2426f0e',
                        [{"marker": {"color": "rgba(0, 0, 128, 0.6)", "line": {"color": "rgba(0, 0, 128, 1.0)", "width": 1}}, "name": "Company Name", "orientation": "v", "text": "", "type": "bar", "x": ["\u0634\u0631\u0643\u0629 \u0623\u0628\u0646\u0627\u0621 \u0639\u0628\u062f\u0627\u0644\u0644\u0647 \u0639\u0628\u062f\u0627\u0644\u0645\u062d\u0633\u0646 \u0627\u0644\u062e\u0636\u0631\u064a", "\u0634\u0631\u0643\u0629 \u0625\u062a\u062d\u0627\u062f \u0639\u0630\u064a\u0628 \u0644\u0644\u0625\u062a\u0635\u0627\u0644\u0627\u062a", "\u0634\u0631\u0643\u0629 \u0627\u0644\u0628\u0627\u062d\u0629 \u0644\u0644\u0625\u0633\u062a\u062b\u0645\u0627\u0631 \u0648\u0627\u0644\u062a\u0646\u0645\u064a\u0629", "\u0627\u0644\u0634\u0631\u0643\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629 \u0627\u0644\u0647\u0646\u062f\u064a\u0629 \u0644\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u062a\u0639\u0627\u0648\u0646\u064a", "\u0634\u0631\u0643\u0629 \u0637\u064a\u0628\u0629 \u0644\u0644\u0625\u0633\u062a\u062b\u0645\u0627\u0631", "\u0634\u0631\u0643\u0629 \u0627\u0644\u0643\u0627\u0628\u0644\u0627\u062a \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629", "\u0627\u0644\u0634\u0631\u0643\u0629 \u0627\u0644\u0648\u0637\u0646\u064a\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629 \u0644\u0644\u0646\u0642\u0644 \u0627\u0644\u0628\u062d\u0631\u064a", "\u0634\u0631\u0643\u0629 \u0627\u0644\u062a\u0639\u062f\u064a\u0646 \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629", "\u0634\u0631\u0643\u0629 \u0627\u0644\u0623\u062d\u0633\u0627\u0621 \u0644\u0644\u062a\u0646\u0645\u064a\u0629", "\u0627\u0644\u0634\u0631\u0643\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629 \u0644\u0644\u0646\u0642\u0644 \u0627\u0644\u062c\u0645\u0627\u0639\u064a"], "y": [450, 331, 316, 300, 283, 281, 280, 278, 277, 268]}],
                        {"legend": {"bgcolor": "#FFFFFF", "font": {"color": "#4D5663"}}, "paper_bgcolor": "#FFFFFF", "plot_bgcolor": "#FFFFFF", "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "white", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "white", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "#C8D4E3", "linecolor": "#C8D4E3", "minorgridcolor": "#C8D4E3", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "#C8D4E3", "linecolor": "#C8D4E3", "minorgridcolor": "#C8D4E3", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "white", "showlakes": true, "showland": true, "subunitcolor": "#C8D4E3"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "white", "polar": {"angularaxis": {"gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": ""}, "bgcolor": "white", "radialaxis": {"gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}, "yaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}, "zaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}, "baxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}, "bgcolor": "white", "caxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "#EBF0F8", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "#EBF0F8", "zerolinewidth": 2}}}, "title": {"font": {"color": "#4D5663"}, "text": "Most 10 Featured Companies"}, "xaxis": {"gridcolor": "#E1E5ED", "showgrid": true, "tickfont": {"color": "#4D5663"}, "title": {"font": {"color": "#4D5663"}, "text": ""}, "zerolinecolor": "#E1E5ED"}, "yaxis": {"gridcolor": "#E1E5ED", "showgrid": true, "tickfont": {"color": "#4D5663"}, "title": {"font": {"color": "#4D5663"}, "text": "# of News Articles"}, "zerolinecolor": "#E1E5ED"}},
                        {"showLink": true, "linkText": "Export to plotly.com", "plotlyServerURL": "https://plotly.com", "responsive": true}
                    ).then(function(){
                            
var gd = document.getElementById('b6afdb65-a936-43a6-ac60-0329c2426f0e');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">featured_companies</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'Company Name'</span><span class="p">]</span>
                     <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
                     <span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_most</span><span class="p">)</span>
                     <span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
<span class="n">featured_companies</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>['شركة أبناء عبدالله عبدالمحسن الخضري',
 'شركة إتحاد عذيب للإتصالات',
 'شركة الباحة للإستثمار والتنمية',
 'الشركة السعودية الهندية للتأمين التعاوني',
 'شركة طيبة للإستثمار',
 'شركة الكابلات السعودية',
 'الشركة الوطنية السعودية للنقل البحري',
 'شركة التعدين العربية السعودية',
 'شركة الأحساء للتنمية',
 'الشركة السعودية للنقل الجماعي']</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Exploring-Interaction-Between-2-Categorical-Variables">
<a class="anchor" href="#Exploring-Interaction-Between-2-Categorical-Variables" aria-hidden="true"><span class="octicon octicon-link"></span></a>Exploring Interaction Between 2 Categorical Variables<a class="anchor-link" href="#Exploring-Interaction-Between-2-Categorical-Variables"> </a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Polarity-&amp;-Sector">
<a class="anchor" href="#Polarity-&amp;-Sector" aria-hidden="true"><span class="octicon octicon-link"></span></a>Polarity &amp; Sector<a class="anchor-link" href="#Polarity-&amp;-Sector"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Method-(1)-Grouped-Barplot">
<a class="anchor" href="#Method-(1)-Grouped-Barplot" aria-hidden="true"><span class="octicon octicon-link"></span></a>Method (1) Grouped Barplot<a class="anchor-link" href="#Method-(1)-Grouped-Barplot"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">polarity_by_sector</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span>
                      <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">'Sector_en'</span><span class="p">,</span> <span class="s1">'Polarity'</span><span class="p">])</span>
                      <span class="o">.</span><span class="n">size</span><span class="p">()</span>
                      <span class="o">.</span><span class="n">unstack</span><span class="p">()</span>
                      <span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                      <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">'Positive'</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

<span class="n">polarity_by_sector</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Polarity</th>
      <th>Negative</th>
      <th>Neutral</th>
      <th>Positive</th>
    </tr>
    <tr>
      <th>Sector_en</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Basic Materials</th>
      <td>586</td>
      <td>2239</td>
      <td>3391</td>
    </tr>
    <tr>
      <th>Insurance</th>
      <td>1167</td>
      <td>2601</td>
      <td>2985</td>
    </tr>
    <tr>
      <th>Capital Goods</th>
      <td>293</td>
      <td>988</td>
      <td>1314</td>
    </tr>
    <tr>
      <th>Real Estate M &amp; D</th>
      <td>103</td>
      <td>635</td>
      <td>990</td>
    </tr>
    <tr>
      <th>Food Production</th>
      <td>237</td>
      <td>908</td>
      <td>981</td>
    </tr>
    <tr>
      <th>Banks</th>
      <td>37</td>
      <td>416</td>
      <td>799</td>
    </tr>
    <tr>
      <th>Consumer Services</th>
      <td>48</td>
      <td>285</td>
      <td>654</td>
    </tr>
    <tr>
      <th>Retail Of Luxury Goods</th>
      <td>46</td>
      <td>338</td>
      <td>651</td>
    </tr>
    <tr>
      <th>Transport</th>
      <td>32</td>
      <td>364</td>
      <td>514</td>
    </tr>
    <tr>
      <th>Healthcare</th>
      <td>31</td>
      <td>242</td>
      <td>478</td>
    </tr>
    <tr>
      <th>Energy</th>
      <td>32</td>
      <td>367</td>
      <td>458</td>
    </tr>
    <tr>
      <th>Telecommunications</th>
      <td>159</td>
      <td>419</td>
      <td>423</td>
    </tr>
    <tr>
      <th>Investment And Financing</th>
      <td>104</td>
      <td>294</td>
      <td>326</td>
    </tr>
    <tr>
      <th>Long-Term Goods</th>
      <td>62</td>
      <td>278</td>
      <td>308</td>
    </tr>
    <tr>
      <th>Food Segmentation</th>
      <td>53</td>
      <td>234</td>
      <td>254</td>
    </tr>
    <tr>
      <th>Real Estate Traded Funds</th>
      <td>22</td>
      <td>336</td>
      <td>237</td>
    </tr>
    <tr>
      <th>Public Utility</th>
      <td>13</td>
      <td>152</td>
      <td>229</td>
    </tr>
    <tr>
      <th>Commercial And Professional Services</th>
      <td>23</td>
      <td>93</td>
      <td>156</td>
    </tr>
    <tr>
      <th>Media And Entertainment</th>
      <td>44</td>
      <td>181</td>
      <td>140</td>
    </tr>
    <tr>
      <th>Pharmaceutical</th>
      <td>8</td>
      <td>72</td>
      <td>138</td>
    </tr>
    <tr>
      <th>Tasi Main Market Index</th>
      <td>4</td>
      <td>35</td>
      <td>69</td>
    </tr>
    <tr>
      <th>Applications And Technology Services</th>
      <td>2</td>
      <td>6</td>
      <td>14</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">polarity_by_sector</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">featured_sectors</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Polarity</th>
      <th>Negative</th>
      <th>Neutral</th>
      <th>Positive</th>
    </tr>
    <tr>
      <th>Sector_en</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Insurance</th>
      <td>1167</td>
      <td>2601</td>
      <td>2985</td>
    </tr>
    <tr>
      <th>Basic Materials</th>
      <td>586</td>
      <td>2239</td>
      <td>3391</td>
    </tr>
    <tr>
      <th>Capital Goods</th>
      <td>293</td>
      <td>988</td>
      <td>1314</td>
    </tr>
    <tr>
      <th>Food Production</th>
      <td>237</td>
      <td>908</td>
      <td>981</td>
    </tr>
    <tr>
      <th>Real Estate M &amp; D</th>
      <td>103</td>
      <td>635</td>
      <td>990</td>
    </tr>
    <tr>
      <th>Banks</th>
      <td>37</td>
      <td>416</td>
      <td>799</td>
    </tr>
    <tr>
      <th>Retail Of Luxury Goods</th>
      <td>46</td>
      <td>338</td>
      <td>651</td>
    </tr>
    <tr>
      <th>Telecommunications</th>
      <td>159</td>
      <td>419</td>
      <td>423</td>
    </tr>
    <tr>
      <th>Consumer Services</th>
      <td>48</td>
      <td>285</td>
      <td>654</td>
    </tr>
    <tr>
      <th>Transport</th>
      <td>32</td>
      <td>364</td>
      <td>514</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">polarity_by_sector</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">featured_sectors</span><span class="p">]</span>
 <span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">'bar'</span><span class="p">,</span>
        <span class="n">colorscale</span><span class="o">=</span><span class="s1">'-gnbu'</span><span class="p">,</span><span class="c1">#'set1',</span>
        <span class="n">layout</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'Distribution of Polarity over Sectors'</span><span class="p">,</span>
                    <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'# of Articles'</span><span class="p">),</span>
                    <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'Sector'</span><span class="p">))))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<div>
        
        
            <div id="404910d5-4ce5-4b4f-bf26-4ee0d3485ab7" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};
                    window.PLOTLYENV.BASE_URL='https://plotly.com';
                    
                if (document.getElementById("404910d5-4ce5-4b4f-bf26-4ee0d3485ab7")) {
                    Plotly.newPlot(
                        '404910d5-4ce5-4b4f-bf26-4ee0d3485ab7',
                        [{"marker": {"color": "rgba(67, 162, 202, 0.6)", "line": {"color": "rgba(67, 162, 202, 1.0)", "width": 1}}, "name": "Negative", "orientation": "v", "text": "", "type": "bar", "x": ["Insurance", "Basic Materials", "Capital Goods", "Food Production", "Real Estate M & D", "Banks", "Retail Of Luxury Goods", "Telecommunications", "Consumer Services", "Transport"], "y": [1167, 586, 293, 237, 103, 37, 46, 159, 48, 32]}, {"marker": {"color": "rgba(168, 221, 181, 0.6)", "line": {"color": "rgba(168, 221, 181, 1.0)", "width": 1}}, "name": "Neutral", "orientation": "v", "text": "", "type": "bar", "x": ["Insurance", "Basic Materials", "Capital Goods", "Food Production", "Real Estate M & D", "Banks", "Retail Of Luxury Goods", "Telecommunications", "Consumer Services", "Transport"], "y": [2601, 2239, 988, 908, 635, 416, 338, 419, 285, 364]}, {"marker": {"color": "rgba(224, 243, 219, 0.6)", "line": {"color": "rgba(224, 243, 219, 1.0)", "width": 1}}, "name": "Positive", "orientation": "v", "text": "", "type": "bar", "x": ["Insurance", "Basic Materials", "Capital Goods", "Food Production", "Real Estate M & D", "Banks", "Retail Of Luxury Goods", "Telecommunications", "Consumer Services", "Transport"], "y": [2985, 3391, 1314, 981, 990, 799, 651, 423, 654, 514]}],
                        {"template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "white", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "white", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "#C8D4E3", "linecolor": "#C8D4E3", "minorgridcolor": "#C8D4E3", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "#C8D4E3", "linecolor": "#C8D4E3", "minorgridcolor": "#C8D4E3", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "white", "showlakes": true, "showland": true, "subunitcolor": "#C8D4E3"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "white", "polar": {"angularaxis": {"gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": ""}, "bgcolor": "white", "radialaxis": {"gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}, "yaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}, "zaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}, "baxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}, "bgcolor": "white", "caxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "#EBF0F8", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "#EBF0F8", "zerolinewidth": 2}}}, "title": {"text": "Distribution of Polarity over Sectors"}, "xaxis": {"title": {"text": "Sector"}}, "yaxis": {"title": {"text": "# of Articles"}}},
                        {"showLink": true, "linkText": "Export to plotly.com", "plotlyServerURL": "https://plotly.com", "responsive": true}
                    ).then(function(){
                            
var gd = document.getElementById('404910d5-4ce5-4b4f-bf26-4ee0d3485ab7');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">polarity_by_sector</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">featured_sectors</span><span class="p">]</span>
 <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
 <span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">id_vars</span><span class="o">=</span><span class="s1">'Sector_en'</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s1">'Count'</span><span class="p">)</span>
 <span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
     <span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">,</span>
     <span class="n">x</span><span class="o">=</span><span class="s1">'Sector_en'</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">'Count'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'Polarity'</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">'Count'</span><span class="p">,</span>
     <span class="n">barmode</span><span class="o">=</span><span class="s1">'group'</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
     <span class="n">title</span><span class="o">=</span><span class="s1">'Distribution of Polarity over Sectors'</span><span class="p">,</span>
     <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">'Count'</span><span class="p">:</span> <span class="s1">'No. of Articles'</span><span class="p">},</span>
     <span class="n">color_discrete_sequence</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">diverging</span><span class="o">.</span><span class="n">Spectral_r</span><span class="p">,</span>
<span class="c1">#      color_discrete_sequence=px.colors.sequential.Plasma,</span>
<span class="c1">#      color_discrete_sequence=px.colors.qualitative.Prism,</span>
<span class="c1">#      color_discrete_sequence=px.colors.sequential.GnBu_r,</span>
<span class="c1">#      color_discrete_sequence=px.colors.qualitative.Set1</span>
<span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<div>
        
        
            <div id="a78904b1-0660-41f6-98a3-0a0eb3522892" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};
                    
                if (document.getElementById("a78904b1-0660-41f6-98a3-0a0eb3522892")) {
                    Plotly.newPlot(
                        'a78904b1-0660-41f6-98a3-0a0eb3522892',
                        [{"alignmentgroup": "True", "hovertemplate": "Polarity=Negative<br>Sector_en=%{x}<br>No. of Articles=%{text}<extra></extra>", "legendgroup": "Negative", "marker": {"color": "rgb(94,79,162)", "opacity": 0.8}, "name": "Negative", "offsetgroup": "Negative", "orientation": "v", "showlegend": true, "text": [1167.0, 586.0, 293.0, 237.0, 103.0, 37.0, 46.0, 159.0, 48.0, 32.0], "textposition": "auto", "type": "bar", "x": ["Insurance", "Basic Materials", "Capital Goods", "Food Production", "Real Estate M & D", "Banks", "Retail Of Luxury Goods", "Telecommunications", "Consumer Services", "Transport"], "xaxis": "x", "y": [1167, 586, 293, 237, 103, 37, 46, 159, 48, 32], "yaxis": "y"}, {"alignmentgroup": "True", "hovertemplate": "Polarity=Neutral<br>Sector_en=%{x}<br>No. of Articles=%{text}<extra></extra>", "legendgroup": "Neutral", "marker": {"color": "rgb(50,136,189)", "opacity": 0.8}, "name": "Neutral", "offsetgroup": "Neutral", "orientation": "v", "showlegend": true, "text": [2601.0, 2239.0, 988.0, 908.0, 635.0, 416.0, 338.0, 419.0, 285.0, 364.0], "textposition": "auto", "type": "bar", "x": ["Insurance", "Basic Materials", "Capital Goods", "Food Production", "Real Estate M & D", "Banks", "Retail Of Luxury Goods", "Telecommunications", "Consumer Services", "Transport"], "xaxis": "x", "y": [2601, 2239, 988, 908, 635, 416, 338, 419, 285, 364], "yaxis": "y"}, {"alignmentgroup": "True", "hovertemplate": "Polarity=Positive<br>Sector_en=%{x}<br>No. of Articles=%{text}<extra></extra>", "legendgroup": "Positive", "marker": {"color": "rgb(102,194,165)", "opacity": 0.8}, "name": "Positive", "offsetgroup": "Positive", "orientation": "v", "showlegend": true, "text": [2985.0, 3391.0, 1314.0, 981.0, 990.0, 799.0, 651.0, 423.0, 654.0, 514.0], "textposition": "auto", "type": "bar", "x": ["Insurance", "Basic Materials", "Capital Goods", "Food Production", "Real Estate M & D", "Banks", "Retail Of Luxury Goods", "Telecommunications", "Consumer Services", "Transport"], "xaxis": "x", "y": [2985, 3391, 1314, 981, 990, 799, 651, 423, 654, 514], "yaxis": "y"}],
                        {"barmode": "group", "legend": {"title": {"text": "Polarity"}, "tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "white", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "white", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "#C8D4E3", "linecolor": "#C8D4E3", "minorgridcolor": "#C8D4E3", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "#C8D4E3", "linecolor": "#C8D4E3", "minorgridcolor": "#C8D4E3", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "white", "showlakes": true, "showland": true, "subunitcolor": "#C8D4E3"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "white", "polar": {"angularaxis": {"gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": ""}, "bgcolor": "white", "radialaxis": {"gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}, "yaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}, "zaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}, "baxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}, "bgcolor": "white", "caxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "#EBF0F8", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "#EBF0F8", "zerolinewidth": 2}}}, "title": {"text": "Distribution of Polarity over Sectors"}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "Sector_en"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "No. of Articles"}}},
                        {"responsive": true}
                    ).then(function(){
                            
var gd = document.getElementById('a78904b1-0660-41f6-98a3-0a0eb3522892');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Method-(2)-Heatmap">
<a class="anchor" href="#Method-(2)-Heatmap" aria-hidden="true"><span class="octicon octicon-link"></span></a>Method (2) Heatmap<a class="anchor-link" href="#Method-(2)-Heatmap"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">polarity_by_sector</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">featured_sectors</span><span class="p">]</span>
 <span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">'heatmap'</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="s1">'Distribution of Polarity over Sectors'</span><span class="p">,</span>
        <span class="n">colorscale</span><span class="o">=</span><span class="s1">'gnbu'</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">polarity_by_sector</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">featured_sectors</span><span class="p">]</span>
 <span class="o">.</span><span class="n">T</span>
 <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">px</span><span class="o">.</span><span class="n">imshow</span><span class="p">,</span>
       <span class="n">color_continuous_scale</span><span class="o">=</span><span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">sequential</span><span class="o">.</span><span class="n">GnBu</span><span class="p">,</span>
       <span class="n">title</span><span class="o">=</span><span class="s1">'Distribution of Polarity over Sector'</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Polarity-&amp;-Company">
<a class="anchor" href="#Polarity-&amp;-Company" aria-hidden="true"><span class="octicon octicon-link"></span></a>Polarity &amp; Company<a class="anchor-link" href="#Polarity-&amp;-Company"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Method-(1)-Groupded-Barplot">
<a class="anchor" href="#Method-(1)-Groupded-Barplot" aria-hidden="true"><span class="octicon octicon-link"></span></a>Method (1) Groupded Barplot<a class="anchor-link" href="#Method-(1)-Groupded-Barplot"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">polarity_by_company</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span>
                      <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">'Company Name'</span><span class="p">,</span> <span class="s1">'Polarity'</span><span class="p">])</span>
                      <span class="o">.</span><span class="n">size</span><span class="p">()</span>
                      <span class="o">.</span><span class="n">unstack</span><span class="p">()</span>
                      <span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                      <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">'Positive'</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

<span class="n">polarity_by_company</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">polarity_by_company</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">featured_companies</span><span class="p">]</span>
 <span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">'bar'</span><span class="p">,</span>
        <span class="n">colorscale</span><span class="o">=</span><span class="s1">'blues'</span><span class="p">,</span>
        <span class="n">layout</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'Distribution of Polarity over Companies'</span><span class="p">,</span>
                    <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'# of Articles'</span><span class="p">),</span>
                    <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'Company'</span><span class="p">))))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Method-(2)-Heatmap">
<a class="anchor" href="#Method-(2)-Heatmap" aria-hidden="true"><span class="octicon octicon-link"></span></a>Method (2) Heatmap<a class="anchor-link" href="#Method-(2)-Heatmap"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">polarity_by_company</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">featured_companies</span><span class="p">]</span>
 <span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">'heatmap'</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="s1">'Distribution of Polarity over Companies'</span><span class="p">,</span>
        <span class="n">colorscale</span><span class="o">=</span><span class="s1">'blues'</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Exploring-Interaction-Between-3-Categorical-Variables">
<a class="anchor" href="#Exploring-Interaction-Between-3-Categorical-Variables" aria-hidden="true"><span class="octicon octicon-link"></span></a>Exploring Interaction Between 3 Categorical Variables<a class="anchor-link" href="#Exploring-Interaction-Between-3-Categorical-Variables"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_featured</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">'Company Name'</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">featured_companies</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'Sector_en'</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">featured_sectors</span><span class="p">))]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">px</span><span class="o">.</span><span class="n">parallel_categories</span><span class="p">(</span><span class="n">df_featured</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">700</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">'Parallel Plot of Sector, Company, Polarity'</span><span class="p">,</span>
                       <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">'Sector_en'</span><span class="p">:</span> <span class="s1">'Sector'</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Exploring-Single-Numerical-Variables">
<a class="anchor" href="#Exploring-Single-Numerical-Variables" aria-hidden="true"><span class="octicon octicon-link"></span></a>Exploring Single Numerical Variables<a class="anchor-link" href="#Exploring-Single-Numerical-Variables"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">'Closing'</span><span class="p">]</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">'box'</span><span class="p">,</span> 
                    <span class="n">boxpoints</span><span class="o">=</span><span class="s1">'outliers'</span><span class="p">,</span>
                    <span class="n">color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">,</span>
                    <span class="n">title</span><span class="o">=</span><span class="s1">'Distribution of Closing Price'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="s1">'Closing'</span><span class="p">,</span>
        <span class="n">points</span><span class="o">=</span><span class="s1">'outliers'</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="s1">'Distribution of Closing Price'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">'Changing%'</span><span class="p">]</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">'box'</span><span class="p">,</span> 
                      <span class="n">boxpoints</span><span class="o">=</span><span class="s1">'outliers'</span><span class="p">,</span>
                      <span class="n">color</span><span class="o">=</span><span class="s1">'purple'</span><span class="p">,</span>
                      <span class="n">title</span><span class="o">=</span><span class="s1">'Distribution of Changing%'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">df</span>
 <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">,</span>
       <span class="n">y</span><span class="o">=</span><span class="s1">'Changing%'</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Qustion:-How-wast-the-variable-Changing%-computed?">
<a class="anchor" href="#Qustion:-How-wast-the-variable-Changing%-computed?" aria-hidden="true"><span class="octicon octicon-link"></span></a>Qustion: How wast the variable <code>Changing%</code> computed?<a class="anchor-link" href="#Qustion:-How-wast-the-variable-Changing%-computed?"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">'change_pct'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Closing'</span><span class="p">]</span><span class="o">.</span><span class="n">pct_change</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s1">'Changing%'</span><span class="p">,</span> <span class="s1">'change_pct'</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Exploring-Relationship-Between-Numerical-Variables">
<a class="anchor" href="#Exploring-Relationship-Between-Numerical-Variables" aria-hidden="true"><span class="octicon octicon-link"></span></a>Exploring Relationship Between Numerical Variables<a class="anchor-link" href="#Exploring-Relationship-Between-Numerical-Variables"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">nums</span><span class="p">]</span>
 <span class="o">.</span><span class="n">corr</span><span class="p">()</span>
 <span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
 <span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">nums</span><span class="p">]</span>
 <span class="o">.</span><span class="n">corr</span><span class="p">()</span>
 <span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">'heatmap'</span><span class="p">,</span>
        <span class="n">colorscale</span><span class="o">=</span><span class="s1">'ylgnbu'</span><span class="p">,</span><span class="c1">#'rdylbu',#,rdbu, </span>
        <span class="n">layout</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'Correlation Between All Numerical Variables'</span><span class="p">,</span>
                    <span class="n">width</span><span class="o">=</span><span class="mi">700</span><span class="p">,</span>
                    <span class="n">margin</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="mi">120</span><span class="p">))))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Number-of-Deals-vs.-Changing">
<a class="anchor" href="#Number-of-Deals-vs.-Changing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Number of Deals vs. Changing<a class="anchor-link" href="#Number-of-Deals-vs.-Changing"> </a>
</h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
 <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">,</span>
       <span class="n">size</span><span class="o">=</span><span class="s1">'Total Current Value (SAR)'</span><span class="p">,</span>
       <span class="n">size_max</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span>
       <span class="n">x</span><span class="o">=</span><span class="s1">'Number of Deals'</span><span class="p">,</span>
       <span class="n">y</span><span class="o">=</span><span class="s1">'Changing'</span><span class="p">,</span>
       <span class="n">title</span><span class="o">=</span><span class="s1">'&lt;b&gt;Number of Deals vs. Changing in Price&lt;/b&gt; &lt;br&gt;size deontes &lt;i&gt;Total Current Value&lt;/i&gt;'</span><span class="p">,</span>
       <span class="n">range_y</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span>
       <span class="n">range_x</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">25000</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
         <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">,</span>
               <span class="n">x</span><span class="o">=</span><span class="s1">'Closing'</span><span class="p">,</span>
               <span class="n">y</span><span class="o">=</span><span class="s1">'Changing'</span><span class="p">,</span>
               <span class="n">color</span><span class="o">=</span><span class="s1">'Polarity'</span><span class="p">,</span>
               <span class="n">size</span><span class="o">=</span><span class="s1">'Total Current Value (SAR)'</span><span class="p">,</span>
               <span class="n">size_max</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span>
               <span class="n">marginal_x</span><span class="o">=</span><span class="s1">'histogram'</span><span class="p">,</span>
               <span class="n">color_discrete_sequence</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">diverging</span><span class="o">.</span><span class="n">Spectral_r</span><span class="p">,</span>
<span class="c1">#                color_discrete_sequence=px.colors.sequential.GnBu,</span>
<span class="c1">#                color_discrete_sequence=['red', 'blue', 'green'],</span>
               <span class="n">range_y</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
               <span class="n">range_x</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">],</span>
               <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
               <span class="n">facet_col</span><span class="o">=</span><span class="s1">'Polarity'</span><span class="p">,</span>
               <span class="n">title</span><span class="o">=</span><span class="s1">'&lt;b&gt;Closing Price vs. Changing in Price Across Polarities&lt;/b&gt;&lt;br&gt;size deontes &lt;i&gt;Total Current Value&lt;/i&gt;'</span><span class="p">))</span>

<span class="n">fig</span><span class="o">.</span><span class="n">for_each_annotation</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">:</span> <span class="n">a</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">''</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">,</span>
              <span class="n">x</span><span class="o">=</span><span class="s1">'Closing'</span><span class="p">,</span>
              <span class="n">y</span><span class="o">=</span><span class="s1">'Changing%'</span><span class="p">,</span>
              <span class="n">color</span><span class="o">=</span><span class="s1">'Polarity'</span><span class="p">,</span>
              <span class="n">size</span><span class="o">=</span><span class="s1">'Total Current Value (SAR)'</span><span class="p">,</span>
              <span class="n">size_max</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span>
              <span class="n">marginal_x</span><span class="o">=</span><span class="s1">'histogram'</span><span class="p">,</span>
             <span class="n">color_discrete_sequence</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">diverging</span><span class="o">.</span><span class="n">Spectral_r</span><span class="p">,</span>
<span class="c1">#             color_discrete_sequence=px.colors.sequential.GnBu_r,</span>
<span class="c1">#             color_discrete_sequence = px.colors.diverging.Spectral_r,</span>
<span class="c1">#             color_discrete_sequence=['red', 'blue', 'green'],</span>
             <span class="n">range_y</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span>
             <span class="n">range_x</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">300</span><span class="p">],</span>
             <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
             <span class="n">facet_col</span><span class="o">=</span><span class="s1">'Polarity'</span><span class="p">,</span>
             <span class="n">title</span><span class="o">=</span><span class="s1">'&lt;b&gt;Closing Price vs. Changing Percent in Price&lt;/b&gt;&lt;br&gt;size deontes &lt;i&gt;Total Current Value&lt;/i&gt;'</span><span class="p">))</span>

<span class="n">fig</span><span class="o">.</span><span class="n">for_each_annotation</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">:</span> <span class="n">a</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">''</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Exploring-Interaction-Between-Numerical-and-Categorical">
<a class="anchor" href="#Exploring-Interaction-Between-Numerical-and-Categorical" aria-hidden="true"><span class="octicon octicon-link"></span></a>Exploring Interaction Between Numerical and Categorical<a class="anchor-link" href="#Exploring-Interaction-Between-Numerical-and-Categorical"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">returns_by_polarity_stats</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
                             <span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">'Polarity'</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">'Changing%'</span><span class="p">))</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>

<span class="n">returns_by_polarity_stats</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">median</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">'Polarity'</span><span class="p">,</span> <span class="s1">'Changing%'</span><span class="p">]]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
          <span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">'Polarity'</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">'Changing%'</span><span class="p">)</span>
          <span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">median</span><span class="p">()))</span>

<span class="n">median</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">'median'</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">returns_by_polarity_stats</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">median</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
 <span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">'Polarity'</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">'Changing%'</span><span class="p">)</span>
 <span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">'box'</span><span class="p">,</span> <span class="n">boxpoints</span><span class="o">=</span><span class="s1">'outliers'</span><span class="p">,</span>
        <span class="n">colorscale</span><span class="o">=</span><span class="s1">'gnbu'</span><span class="p">,</span>
        <span class="n">layout</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'Distribution of Percent Change Over Polarity'</span><span class="p">)))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">df</span>
 <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">,</span>
       <span class="n">x</span><span class="o">=</span><span class="s1">'Polarity'</span><span class="p">,</span>
       <span class="n">y</span><span class="o">=</span><span class="s1">'Changing%'</span><span class="p">,</span>
       <span class="n">color</span><span class="o">=</span><span class="s1">'Polarity'</span><span class="p">,</span>
       <span class="n">color_discrete_sequence</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">diverging</span><span class="o">.</span><span class="n">Spectral_r</span><span class="p">,</span>
       <span class="n">points</span><span class="o">=</span><span class="s1">'outliers'</span><span class="p">,</span>
       <span class="n">title</span><span class="o">=</span><span class="s1">'Distribution of Percent Change Over Polarity'</span><span class="p">))</span>

<span class="c1"># fig.update_layout(showlegend=False)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>From the Boxplot above we can't deduce a strong correlation between the polarity of a news article and a change in stock price.</p>
<p>This should be corroborated by a statistical test, though!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="What's-Happening-over-Time?">
<a class="anchor" href="#What's-Happening-over-Time?" aria-hidden="true"><span class="octicon octicon-link"></span></a>What's Happening over Time?<a class="anchor-link" href="#What's-Happening-over-Time?"> </a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Exploring-the-Date-Variable">
<a class="anchor" href="#Exploring-the-Date-Variable" aria-hidden="true"><span class="octicon octicon-link"></span></a>Exploring the Date Variable<a class="anchor-link" href="#Exploring-the-Date-Variable"> </a>
</h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">'Date'</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">date_hist</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="p">[</span>
        <span class="n">Histogram</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
        <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="n">opacity</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
            <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                <span class="n">color</span><span class="o">=</span><span class="s1">'white'</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span>
            <span class="p">)</span>
         <span class="p">)</span>
      <span class="p">)</span>
    <span class="p">],</span>
    <span class="n">layout</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s1">'Distribution of No. of Articles over Months'</span><span class="p">,</span>
        <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">-</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">90</span><span class="p">),</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">max</span><span class="p">()]</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="n">pyo</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">date_hist</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="The-Following-is-Additional-Extra-Work">
<a class="anchor" href="#The-Following-is-Additional-Extra-Work" aria-hidden="true"><span class="octicon octicon-link"></span></a>The Following is Additional Extra Work<a class="anchor-link" href="#The-Following-is-Additional-Extra-Work"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Moving-Avg.-of-Numerical-Variables">
<a class="anchor" href="#Moving-Avg.-of-Numerical-Variables" aria-hidden="true"><span class="octicon octicon-link"></span></a>Moving Avg. of Numerical Variables<a class="anchor-link" href="#Moving-Avg.-of-Numerical-Variables"> </a>
</h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">company_name</span> <span class="o">=</span> <span class="s1">'شركة أبناء عبدالله عبدالمحسن الخضري'</span>
<span class="n">window</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">num_var</span> <span class="o">=</span> <span class="s1">'Closing'</span>

<span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span>
        <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">'Company Name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">company_name</span><span class="p">,</span> <span class="n">num_var</span><span class="p">]</span>
        <span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
        <span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
        <span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">'lines'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">asFigure</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
               <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">window</span><span class="si">}</span><span class="s1"> Days Moving Avg. (</span><span class="si">{</span><span class="n">num_var</span><span class="si">}</span><span class="s1">) &lt;br&gt; </span><span class="si">{</span><span class="n">company_name</span><span class="si">}</span><span class="s1">'</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">company_name</span> <span class="o">=</span> <span class="s1">'شركة أبناء عبدالله عبدالمحسن الخضري'</span>

<span class="n">fig_1</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span>
 <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">'Company Name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">company_name</span><span class="p">]</span>
 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'Polarity'</span><span class="p">)</span>
 <span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">'A'</span><span class="p">)</span>
 <span class="o">.</span><span class="n">size</span><span class="p">()</span>
 <span class="o">.</span><span class="n">T</span>
 <span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">'bar'</span><span class="p">,</span> <span class="n">barmode</span><span class="o">=</span><span class="s1">'group'</span><span class="p">,</span>
        <span class="n">colorscale</span><span class="o">=</span><span class="s1">'gnbu'</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">'Polarity Evolution over Time &lt;br&gt; </span><span class="si">{</span><span class="n">company_name</span><span class="si">}</span><span class="s1">'</span><span class="p">,</span>
        <span class="n">asFigure</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig_1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig_1</span><span class="p">[</span><span class="s1">'layout'</span><span class="p">][</span><span class="s1">'title'</span><span class="p">][</span><span class="s1">'text'</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig_1</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">fig</span><span class="p">[</span><span class="s1">'data'</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Market-Index">
<a class="anchor" href="#Market-Index" aria-hidden="true"><span class="octicon octicon-link"></span></a>Market Index<a class="anchor-link" href="#Market-Index"> </a>
</h2>
<p>We can create an index for the market by choosing the largest company in each sector, in terms of <code>Total Current Value</code>. Then plot the overall index market cap over time overlayed on the sentiment as above</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">index_comps</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">'2019'</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">'Company Name'</span><span class="p">)</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'Sector_en'</span><span class="p">)[</span><span class="s1">'Total Current Value (SAR)'</span><span class="p">]</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">index_comps</span> <span class="o">=</span> <span class="n">index_comps</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">'Total Current Value (SAR)'</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">index_comps</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">index_comps_names</span> <span class="o">=</span> <span class="n">index_comps</span><span class="p">[</span><span class="s1">'Company Name'</span><span class="p">];</span> <span class="n">index_comps_names</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_index</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">'Company Name'</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">index_comps_names</span><span class="p">)]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">index_series</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_index</span><span class="p">[[</span><span class="s1">'Company Name'</span><span class="p">,</span> <span class="s1">'Total Current Value (SAR)'</span><span class="p">]]</span>
                 <span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">'Company Name'</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">'Total Current Value (SAR)'</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">loc</span><span class="p">[:</span> <span class="s1">'Nov 2019'</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">df_index</span><span class="p">[[</span><span class="s1">'Company Name'</span><span class="p">,</span> <span class="s1">'Total Current Value (SAR)'</span><span class="p">]]</span>
 <span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">'Company Name'</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">'Total Current Value (SAR)'</span><span class="p">)</span>
 <span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
 <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">'2011'</span><span class="p">:</span> <span class="s1">'Nov 2019'</span><span class="p">]</span>
 <span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">180</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
 <span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">,</span>
        <span class="n">layout</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'30-days Moving Average of Market Index'</span><span class="p">)))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">index_series</span><span class="o">.</span><span class="n">iplot</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">df_index</span>
 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'Polarity'</span><span class="p">)</span>
 <span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">'A'</span><span class="p">)</span>
 <span class="o">.</span><span class="n">size</span><span class="p">()</span>
 <span class="o">.</span><span class="n">T</span>
 <span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">'bar'</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">'Annual Polarity Distribution for the Market Index'</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">plotly.subplots</span> <span class="kn">import</span> <span class="n">make_subplots</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">make_subplots</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'ArSEL1.0.txt'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">'###'</span><span class="p">,</span> <span class="s1">';'</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">[:</span><span class="mi">2000</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'ArSEL1.0_modified.txt'</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cols</span> <span class="o">=</span> <span class="s1">'AWN_OFFSET;EWN_OFFSET;POS_Tag;AWN_Lemma;SAMA_Lemma;Pos_Sentiment_score;Neg_Sentiment_Score;Confidence;AFRAID;AMUSED;ANGRY;ANNOYED;DONT_CARE;HAPPY;INSPIRED;SAD'</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">';'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cols</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span><span class="s1">'ArSEL1.0_modified.txt'</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">';'</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">lex</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">cols</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lex</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lex</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lex</span><span class="p">[</span><span class="s1">'SAMA_Lemma'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="How-to-Read-Facebook's-Fasttext-pretrained-Models-into-Gensim">
<a class="anchor" href="#How-to-Read-Facebook's-Fasttext-pretrained-Models-into-Gensim" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to Read Facebook's Fasttext pretrained Models into Gensim<a class="anchor-link" href="#How-to-Read-Facebook's-Fasttext-pretrained-Models-into-Gensim"> </a>
</h3>
<p>read this ASAP: <a href="https://radimrehurek.com/gensim/models/fasttext.html" target="_blank">fasttext loading into gensim</a></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>
</pre></div>

    </div>
</div>
</div>

</div>
    

</div>



  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="Hisham-Hussein/discern.ai"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/discern.ai/data-wrangling/eda/2020/01/28/arabic-stock-market-sentiment-analysis-1-EDA.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/discern.ai/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/discern.ai/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/discern.ai/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Discovering and Visulizing Patterns in Data and Natural Language.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/fastai" title="fastai"><svg class="svg-icon grey"><use xlink:href="/discern.ai/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/fastdotai" title="fastdotai"><svg class="svg-icon grey"><use xlink:href="/discern.ai/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
